{"version":3,"file":"static/js/460.95a799ac.chunk.js","mappings":"wPAEMA,EAAe,SAAAC,GACnB,IAAMC,EAASC,KAAKC,MAAMH,EAASI,EAAAA,GAAAA,QAC7BC,EAAOL,EAASI,EAAAA,GAAAA,OACtB,MAAM,GAAN,OAAUA,EAAAA,GAAMC,IAAhB,OAAwBJ,IAGpBK,EAAa,SAAAC,GACjB,OAA2BA,GAAO,IAAIC,MAAM,oBAAsB,GAAlE,eAAUH,GAAV,WAAgBJ,EAAhB,KACA,OAAQI,GAASJ,EAEbQ,SAASR,GAAUG,EAAAA,GAAAA,OACjBA,EAAAA,GAAAA,WAAgB,SAAAM,GAAC,OAAIA,IAAML,EAAKM,iBAFlC,MAMAC,EAAW,SAAAC,GAAW,OAC1BA,EAAY,IAAMC,EAAAA,IAClBD,EAAY,IAAMC,EAAAA,GAAcC,EAAAA,IAChCF,EAAY,GAAK,GAGbG,EAAY,SAAAH,GAAW,OAC1BA,EAAY,IAAMI,EAAAA,IACjBJ,EAAY,IAAMI,EAAAA,GAAeF,EAAAA,IAClCF,EAAY,IAAMC,EAAAA,IACjBD,EAAY,IAAMC,EAAAA,GAAcC,EAAAA,IACb,IAAnBF,EAAY,K,8EC5BhB,IAAMK,EAAS,SAAAC,GAAG,MAAmB,oBAARA,GAIvBC,EAA2B,SAACC,EAAGC,GAAJ,OAAWD,EAAIC,EAAKC,IAAIF,EAAGC,IAEtDE,EAAsB,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAC1BA,EACGC,MAAM,GACNC,QACC,SAACC,EAASC,GAAV,OAAkBT,EAAyBQ,EAASC,KACpDJ,EAAQ,M,yHC8Hd,EAzIc,CAEZK,QAAS,CACPC,IAAK,GACLC,eAAgB,CACd,CACEC,SAAU,CAAC,GACXC,aAAc,GACd9B,MACE,0GAGN+B,UAAW,IAIbC,QAAS,CACPL,IAAK,IACLC,eAAgB,CACd,CACEC,SAAU,CAAC,EAAG,EAAG,EAAG,GACpBC,aAAc,IACd9B,MACE,6GAGN+B,UAAW,IAIbE,QAAS,CACPN,IAAK,IACLC,eAAgB,CACd,CACEC,SAAU,CAAC,EAAG,EAAG,EAAG,GACpBC,aAAc,IACd9B,MACE,uVAGN+B,UAAW,GACXG,SAAU,IAIZC,WAAY,CACVR,IAAK,IACLI,UAAW,GACXH,eAAgB,CACd,CACEC,SAAU,CAAC,GACXC,aAAc,IACd9B,MAAO,4DACPoC,MAAO,SAET,CACEP,SAAU,CAAC,GACXC,aAAc,IACd9B,MAAO,6DACPoC,MAAO,kBAMbC,WAAY,CACVV,IAAK,IACLI,UAAW,GACXH,eAAgB,CACd,CACEC,SAAU,CAAC,GACXC,aAAc,IACd9B,MAAO,sCACPoC,MAAO,WAET,CACEP,SAAU,CAAC,GACXC,aAAc,IACd9B,MACE,uFACFoC,MAAO,YAMbE,WAAY,CACVX,IAAK,IACLI,UAAW,GACXH,eAAgB,CACd,CACEC,SAAU,CAAC,GAAI,IACfC,aAAc,IACd9B,MACE,4EACFoC,MAAO,WAET,CACEP,SAAU,CAAC,IACXC,aAAc,IACd9B,MAAO,wCACPoC,MAAO,UAGXF,SAAU,IAIZK,eAAgB,CACdZ,IAAK,GACLI,UAAW,GACXH,eAAgB,CACd,CACEC,SAAU,CAAC,EAAG,EAAG,EAAG,GACpBC,aAAc,IACd9B,MAAO,0DACPoC,MAAO,eAMbI,MAAO,CACLb,IAAK,GACLI,UAAW,GACXH,eAAgB,CACd,CACEC,SAAU,CAAC,GACXC,aAAc,IACd9B,MACE,8WACFoC,MAAO,gB,yCC/HTK,GAAcvC,EAAAA,EAAAA,IAAW,MAIzBwC,EACE,OADFA,EAEI,SAGJC,EAAkB,SAACC,EAAKC,EAAKC,EAAcV,EAAOW,GAAhC,MAAiD,CACvEA,aAA6B,IAAhBA,EACbD,aAAAA,EACAD,IAAAA,EACAD,IAAAA,EACAR,MAAAA,IA0BIY,EAvBgB,SAAC,GAAD,IAAGpB,EAAH,EAAGA,eAAmBqB,GAAtB,2BAAC,UAClBA,GADiB,IAEpBrB,eAAgBA,EAAesB,KAC7B,WAAqCC,GAArC,IAAGnD,EAAH,EAAGA,MAAOoC,EAAV,EAAUA,MAAUgB,GAApB,2BAAC,UACIA,GADL,IAEEhB,MAAOA,GAAK,yBAAsBe,EAAM,GACxCE,UAAW,EACXrD,MAAOA,EAAMsD,MAAM,KAAKJ,KAAI,SAAAK,GAC1B,MAA4BA,EAAKD,MAAM,KAAvC,eAAOrD,EAAP,KAAauD,EAAb,KACMC,EAAiB,MAATxD,EACRiC,EAAWuB,EAAQ,EAAIpD,SAASmD,GACtC,MAAO,CACLvD,KAAMwD,EAAQ,MAAOvD,EAAAA,EAAAA,IAAWD,GAChCyD,GAAiB,IAAbxB,EACJA,SAAUyB,MAAMzB,GACZe,EAAQf,UAjCE,GAkCVA,aAOS0B,CAAcC,EAAMrB,OAErCsB,EAAyB,CAC7BhC,aAAca,EACZ,EACA,IACAK,EAAelB,aACf,iBAEFuB,UAAWV,GAAiB,GAAI,GAAI,EAAG,aAAa,IAGhDoB,EAAsB,CAC1BpC,IAAKgB,EAAgB,GAAI,IAAKK,EAAerB,IAAK,SAClDI,UAAWY,EAAgB,EAAG,GAAIK,EAAejB,UAAW,cAGxDiC,EAAsB,CAC1B,UACA,UACA,UACA,UACA,UACA,UACA,UACA,W,8GCrDIC,EAAoB,SAACtC,EAAKI,GAAN,OAAsB,IAAQJ,EAAO,EAAKI,GAE9DmC,EAAa,eACjBjE,EADiB,uDACVwC,EACPP,EAFiB,uDDfK,GCkBtBwB,IAHiB,+DAIb,CACJzD,KAAAA,EACAyD,GAAAA,EACAxB,SAAAA,IAgNIiC,EAAgB,SAACC,GAAyC,IAA1BC,EAAyB,uDAAP,GACtD,EAAoCC,EAAAA,SAClCF,EAAc7C,QAAO,SAACgD,EAAKC,GAGzB,OAFAD,EAAIC,EAAcC,MAChBJ,EAAgBG,EAAcC,OAASD,EAAc1B,aAChDyB,IACN,KALL,eAAOG,EAAP,KAAmBC,EAAnB,KAQMC,EAAiBN,EAAAA,aACrB,SAACG,EAAMI,GAAP,OACEF,GAAc,SAAAG,GAAI,yBACbA,GADa,cAEfL,EAAOI,SAEZ,IAGF,MAAO,CACLD,eAAAA,EACAF,WAAAA,IAIEK,EAAiC,SAACC,EAAmB7B,GAApB,MAA6B,CAClEtB,UAA2B,OAAjBmD,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBnD,WAAY,CAAC,GAC1CoD,MAAOjB,EAAoBb,EAAMa,EAAoBkB,QACrDC,MAAuB,OAAjBH,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBG,QAAQ,EACjCrD,cAA+B,OAAjBkD,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBlD,eAAgB,IACjD9B,OACmB,OAAjBgF,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBhF,QACnBoF,MAAMC,KAAKD,MDnQc,KCmQelC,KAAI,kBAAMgB,OACpDoB,MAAuB,OAAjBN,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBM,QAAQ,EACjClD,OAAwB,OAAjB4C,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB5C,QAAnB,wBAA6Ce,EAAM,GAC1DE,WAA4B,OAAjB2B,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB3B,YAAa,I,6DC5P7C,EAbe,SAAC,GAA6D,IAA3DkC,EAA0D,EAA1DA,SAAUC,EAAgD,EAAhDA,UAAkBC,GAA8B,EAArCC,MAAqC,EAA9BD,SAASE,EAAqB,EAArBA,KAASC,GAAY,YAC1E,OACE,iCACEJ,UAAS,0BAAqBG,GAAQ,GAA7B,YAAmCH,GAC5CC,QAASA,GACLG,GAHN,eAKE,gBAAKJ,UAAU,oBACf,gBAAKA,UAAU,eAAf,SAA+BD,S,yEC4BrC,EAnCuB,SAAC,GAOjB,IANLM,EAMI,EANJA,YACAN,EAKI,EALJA,SACAO,EAII,EAJJA,cACAC,EAGI,EAHJA,gBACAN,EAEI,EAFJA,QACGG,GACC,YACJ,EAA4BtB,EAAAA,WAAiBwB,GAA7C,eAAOE,EAAP,KAAeC,EAAf,KAEA3B,EAAAA,WAAgB,WACVyB,GAAiBA,EAAgBC,KACpC,CAACA,IAEJ,IAAME,EAAc5B,EAAAA,aAClB,SAAA6B,GACEF,GAAU,SAAAG,GAAa,OAAKA,KACxBX,GAASA,EAAQU,KAEvB,CAACF,EAAWR,IAGd,OACE,SAAC,GAAD,gBACED,UAAS,mCACPQ,GAAU,SADH,YAELH,GACJJ,QAASS,GACLN,GALN,aAOGL,M,uFCSP,EAxCY,SAAC,GAUN,IATLS,EASI,EATJA,OACAT,EAQI,EARJA,SACAC,EAOI,EAPJA,UACAE,EAMI,EANJA,MACAhC,EAKI,EALJA,GACA+B,EAII,EAJJA,QACAY,EAGI,EAHJA,QACAC,EAEI,EAFJA,gBACGV,GACC,YACEM,EAAc5B,EAAAA,aAClB,SAAA6B,GACMV,GAASA,EAAQC,EAAOhC,EAAIyC,KAElC,CAACT,EAAOhC,EAAI+B,IAGRc,EAAcjC,EAAAA,aAClB,SAAA6B,GACME,GAASA,EAAQX,EAAOS,EAAEK,OAAS,EAAI,KAAO,OAAQL,KAE5D,CAACT,EAAOW,IAGV,OACE,iCACEb,UAAS,uBAAkBA,EAAlB,YAA+BQ,GAAU,SAAzC,YACPtC,GAAM,MAER+B,QAASS,EACTG,QAASE,GACLX,GANN,eAQE,gBAAKJ,UAAU,cAAf,SAA8Bc,KAC9B,gBAAKd,UAAU,YAAf,SAA4BD,S,SClC5BkB,GAAY,IAqMlB,EAvDmB,SAAAb,GACjB,IACE7C,EAQE6C,EARF7C,YACAyC,EAOEI,EAPFJ,UACAkB,EAMEd,EANFc,aACA7D,EAKE+C,EALF/C,IACAD,EAIEgD,EAJFhD,IACA+D,EAGEf,EAHFe,MACAvE,EAEEwD,EAFFxD,MACAyC,EACEe,EADFf,MAGI+B,EAAQtC,EAAAA,SACZ,kBAnJuB,SAACO,EAAOjC,EAAKC,GACtC,IAAMgE,EALWC,KAKGjC,EAAQjC,IAAsBC,EAAMD,GAAO6D,EAC/D,OAAO3G,KAAK+C,IAAI4D,EAAU3G,KAAK8C,IAThB,IAS8BiE,IAiJrCE,CAAmBlC,EAAOjC,EAAKC,KACrC,CAACgC,EAAOjC,EAAKC,IAGf,EAjI4B,SAAC,GAMxB,IALLA,EAKI,EALJA,IACAD,EAII,EAJJA,IACAoE,EAGI,EAHJA,WAGI,IAFJC,KAAAA,OAEI,MA9Bc,EA8Bd,EADJpC,EACI,EADJA,MAEMqC,EAAM5C,EAAAA,OAAa,CACvB6C,OAAQ,EACRtE,IAAAA,EACAD,IAAAA,EACAqE,KAAAA,EACApC,MAAAA,IAEIuC,EAAa9C,EAAAA,SAEnBA,EAAAA,WAAgB,WACd4C,EAAI1F,QAAQyF,KAAOA,EACnBC,EAAI1F,QAAQqD,MAAQA,EACpBqC,EAAI1F,QAAQoB,IAAMA,EAClBsE,EAAI1F,QAAQqB,IAAMA,IACjB,CAACgC,EAAOoC,EAAMrE,EAAKC,IAEtB,IAAMwE,EAAc/C,EAAAA,SAClB,kBACEgD,EAAAA,EAAAA,WAAS,WACPJ,EAAI1F,QAAQ2F,OAASD,EAAI1F,QAAQyF,OAChC,MACL,IA2BF,OAxBA3C,EAAAA,WAAgB,WACd,IAAM+B,EAAU,SAAAF,GACdA,EAAEoB,kBACFpB,EAAEqB,2BACFrB,EAAEsB,iBAEF,MAAkCP,EAAI1F,QAA9BqD,EAAR,EAAQA,MAAOoC,EAAf,EAAeA,KAAMrE,EAArB,EAAqBA,IAAKC,EAA1B,EAA0BA,IACpB6E,EACJ7C,EAAQoC,EAAOC,EAAI1F,QAAQ2F,QAAUhB,EAAEK,OAAS,EAAI,GAAK,GAC3DQ,EAAWlH,KAAK8C,IAAIC,EAAK/C,KAAK+C,IAAID,EAAK8E,KACvCR,EAAI1F,QAAQ2F,QAAUF,EACtBI,KAKF,OAFAD,EAAW5F,QAAQmG,iBAAiB,QAAStB,EAAS,CAAEuB,SAAS,IAE1D,WACDR,EAAW5F,SACb4F,EAAW5F,QAAQqG,oBAAoB,QAASxB,EAAS,CACvDuB,SAAS,OAGd,IAEI,CAAER,WAAAA,GA0EuBU,CAAsBlC,GAArCwB,GAAjB,EAAQf,QAAR,EAAiBe,YAEjB,EAzE4B,SAAC,GAAqC,IAAnCvE,EAAkC,EAAlCA,IAAKD,EAA6B,EAA7BA,IAAKoE,EAAwB,EAAxBA,WAAYnC,EAAY,EAAZA,MAC/CqC,EAAM5C,EAAAA,OAAa,CACvByD,EAAG,KACHC,kBAAmB,KACnBC,gBAAiB,KACjBC,WAAW,EACXrD,MAAOA,IAET,EAAgCP,EAAAA,UAAe,GAA/C,eAAO6D,EAAP,KAAiBC,EAAjB,KAEA9D,EAAAA,WAAgB,WACd4C,EAAI1F,QAAQqD,MAAQA,IACnB,CAACA,IAEJ,IAAMwD,EAAgB/D,EAAAA,aACpB,SAAA6B,GACmB,IAAbA,EAAEmC,SACJF,GAAY,GACZG,OAAOV,oBAAoB,YAAaX,EAAI1F,QAAQwG,mBACpDO,OAAOV,oBAAoB,UAAWX,EAAI1F,QAAQyG,iBAClDf,EAAI1F,QAAQgH,SAAW,QAG3B,CAACJ,IAGGK,EAAkBnE,EAAAA,aACtB,SAAA6B,GACE,IAAMuB,EAAW5H,KAAK8C,IACpBC,EACA/C,KAAK+C,IAAID,EAAKsE,EAAI1F,QAAQqD,MAAQqC,EAAI1F,QAAQuG,EAAI5B,EAAEuC,QAEtDxB,EAAI1F,QAAQuG,EAAI5B,EAAEuC,MAClB1B,EAAWU,KAEb,CAACV,EAAYpE,EAAKC,IAgBpB,MAAO,CAAEsF,SAAAA,EAAUQ,YAbCrE,EAAAA,aAAkB,SAAA6B,GACnB,IAAbA,EAAEmC,SACJF,GAAY,GACZlB,EAAI1F,QAAQuG,EAAI5B,EAAEuC,MAElBxB,EAAI1F,QAAQwG,kBAAoBS,EAChCvB,EAAI1F,QAAQyG,gBAAkBI,EAE9BE,OAAOZ,iBAAiB,YAAaT,EAAI1F,QAAQwG,mBACjDO,OAAOZ,iBAAiB,UAAWT,EAAI1F,QAAQyG,oBAEhD,KAwB+BW,CAAsBhD,GAAhDuC,EAAR,EAAQA,SAAUQ,EAAlB,EAAkBA,YAElB,OACE,iBACEnD,UAAS,sBAAiBkB,GAAgB,aAAjC,YACPtE,GAAS,aADF,YAELoD,GACJmB,MAAOA,EAJT,UAMGwB,IAAY,gBAAK3C,UAAU,mBAC3BpD,IAAS,gBAAKoD,UAAU,QAAf,SAAwBpD,KAClC,gBACEoD,UAAU,eACVmD,YAAaA,EACbzB,IAAKE,KAEP,iBAAK5B,UAAU,aAAf,WACE,gBACEA,UAAU,SACVmB,MAAO,CAAEkC,UAAU,UAAD,OAAYjC,EAAZ,YAEpB,gBAAKpB,UAAU,QAAf,SACGJ,MAAMC,KAAKD,MAAM0D,KAAiB5F,KAAI,SAAC6F,EAAG5F,GAAJ,OACrC,0BA3KS,SAAC6F,EAAWpC,EAAO7D,GACtC,IAAMkG,EAAYxC,EAZE,GAYyBuC,EAO7C,MAAO,CACLxD,UAAU,QAAD,QAPKzC,EAEZ6D,EAAQ,EACRqC,GAAa,GAAKA,GAAarC,EAC/BqC,GAAa,GAAKA,GAAarC,EAH/BA,EAAQH,GAAYwC,GAAarC,IAMN,UAC7BsC,IAAKF,EACLrC,MAAO,CACLkC,UAAU,UAAD,OAAYI,EAAZ,UA+JgBE,CAAahG,EAAKyD,EAAO7D,IAAlCI,WAIfuD,IACC,gBAAKlB,UAAU,aAAf,UACE,gBAAKA,UAAU,gBAAf,SAAgCX,U,4BCjL1C,EAbsB,SAAC,GAAwC,IAAtCJ,EAAqC,EAArCA,KAAMG,EAA+B,EAA/BA,eAAmBgB,GAAY,YACtDwD,EAAoB9E,EAAAA,aACxB,SAAAO,GAAK,OAAID,EAAeH,EAAMI,KAC9B,CAACJ,EAAMG,IAGT,OACE,gBAAKY,UAAU,iBAAf,UACE,SAAC,GAAD,QAAYkB,cAAY,EAACM,WAAYoC,GAAuBxD,O,+CC6ClE,EArD6B,SAAC,GAAgD,IAA9CI,EAA6C,EAA7CA,OAAQqD,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,SAAU1E,EAAqB,EAArBA,eACtD,GAAuByE,GAAQ,IAAvBjH,MAAAA,OAAR,MAAgB,GAAhB,EAEMmH,EAAoBjF,EAAAA,aAAkB,SAAA6B,GAC1CA,EAAEoB,oBACD,IAEGiC,EAAmBlF,EAAAA,aACvB,SAAAO,GAAK,OAAID,EAAe,OAAQC,KAChC,CAACD,IAEG6E,EAAmBnF,EAAAA,aACvB,SAAAO,GAAK,OAAID,EAAe,OAAQC,KAChC,CAACD,IAGH,OACE,iBACEY,UAAS,iCAA4BQ,GAAU,UAC/CP,QAAS6D,EAFX,WAIE,iBAAK9D,UAAU,uBAAf,WACE,gBACEA,UAAU,uBACVmB,MAAO,CAAE+C,gBAAe,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAMpE,UAElC,0BAAO7C,QAET,iBAAKoD,UAAU,yBAAf,WACE,gBAAKA,UAAU,iBACf,iBAAKA,UAAU,YAAf,WACE,SAAC,EAAD,CACEK,YAAY,SACZE,gBAAiByD,EACjB/D,QAAS8D,EACT5D,KAAK,QAJP,mBAQA,SAAC,EAAD,CACEE,YAAY,MACZE,gBAAiB0D,EACjBhE,QAAS8D,EACT5D,KAAK,QAJP,4BCxCJgE,EAAY,CAChBC,QAAS,GACTC,KAAM,OACNC,YAAa,EACbC,SAAU,UACVC,OAAQ,OACRC,YAAa,GACbC,iBAAkB,EAClBC,iBAAkB,EAClBC,cAAe,GAEXC,EAAY,CAChBR,KAAM,OACNC,YAAa,IACbC,SAAU,UACVC,OAAQ,OACRC,YAAa,IACbK,cAAe,OACfC,eAAgB,QAChBL,iBAAkB,EAClBM,gBAAiB,OACjBJ,cAAe,GAEXK,EAAY,CAChBZ,KAAM,OACNC,YAAa,EACbC,SAAU,UACVC,OAAQ,OACRC,YAAa,MACbK,cAAe,OACfC,eAAgB,QAChBH,cAAe,GAGXM,EAAY,SAAAzF,GAAK,OACrB0F,EAAAA,EAAAA,UACE,iBAAO,CACLF,WAAU,kBAAMA,GAAP,IAAkBZ,KAAM5E,IACjC0E,WAAU,kBAAMA,GAAP,IAAkBE,KAAM5E,IACjCoF,WAAU,kBAAMA,GAAP,IAAkBL,OAAQ/E,OAErC,CAACA,KCnBL,GApBc,SAAC,GAAwB,IAAD,IAArBA,MACP0E,EAAce,OADc,MAAb,OAAa,GAC5Bf,UACR,OACE,iBACEiB,MAAM,6BACNC,QAAQ,MACRC,MAAM,OACNC,OAAO,SACPC,GAAG,UALL,WAOE,iBAAMA,GAAG,cACT,iBACEC,EAAE,wkBACFtE,MAAOgD,EACPqB,GAAG,iBCcX,GA5Bc,SAAC,GAAwB,IAAD,IAArB/F,MACf,EAAiCyF,OADG,MAAb,OAAa,GAC5Bf,EAAR,EAAQA,UAAWU,EAAnB,EAAmBA,UAEnB,OACE,iBACEO,MAAM,6BACNC,QAAQ,MACRC,MAAM,SACNC,OAAO,YACPC,GAAG,UALL,WAOE,iBAAMA,GAAG,cACT,eAAGnC,UAAU,sCAAsCmC,GAAG,SAAtD,WACE,iBACEC,EAAE,spBACFtE,MAAOgD,EACPqB,GAAG,eAEL,iBACEC,EAAE,8CACFtE,MAAO0D,EACPW,GAAG,qBCMb,GA3Bc,SAAC,GAAwB,IAAD,IAArB/F,MACf,EAAiCyF,OADG,MAAb,OAAa,GAC5Bf,EAAR,EAAQA,UAAWU,EAAnB,EAAmBA,UACnB,OACE,iBACEO,MAAM,6BACNC,QAAQ,MACRC,MAAM,SACNC,OAAO,YACPC,GAAG,UALL,WAOE,iBAAMA,GAAG,cACT,eAAGnC,UAAU,sCAAsCmC,GAAG,SAAtD,WACE,iBACEC,EAAE,gVACFtE,MAAOgD,EACPqB,GAAG,eAEL,iBACEC,EAAE,8CACFtE,MAAO0D,EACPW,GAAG,qBCYb,GAhCc,SAAC,GAAwB,IAAD,IAArB/F,MACf,EAA4CyF,OADR,MAAb,OAAa,GAC5BD,EAAR,EAAQA,UAAWd,EAAnB,EAAmBA,UAAWU,EAA9B,EAA8BA,UAC9B,OACE,iBACEO,MAAM,6BACNC,QAAQ,MACRC,MAAM,SACNC,OAAO,QACPC,GAAG,UALL,WAOE,iBAAMA,GAAG,cACT,eAAGnC,UAAU,iCAAiCmC,GAAG,SAAjD,WACE,iBACEC,EAAE,gVACFtE,MAAOgD,EACPqB,GAAG,eAEL,iBACEC,EAAE,4CACFtE,MAAO0D,EACPW,GAAG,eAEL,iBACEC,EAAE,4TACFtE,MAAO8D,EACPO,GAAG,qBCYb,GArCe,SAAC,GAAwB,IAAD,IAArB/F,MAChB,EAA4CyF,OADP,MAAb,OAAa,GAC7BD,EAAR,EAAQA,UAAWd,EAAnB,EAAmBA,UAAWU,EAA9B,EAA8BA,UAC9B,OACE,iBACEO,MAAM,6BACNC,QAAQ,MACRC,MAAM,SACNC,OAAO,KACPC,GAAG,UALL,WAOE,iBAAMA,GAAG,cACT,eAAGnC,UAAU,iCAAiCmC,GAAG,SAAjD,WACE,iBACEC,EAAE,6UACFtE,MAAOgD,EACPqB,GAAG,eAEL,iBACEC,EAAE,4CACFtE,MAAO0D,EACPW,GAAG,eAEL,iBACEC,EAAE,yUACFtE,MAAO8D,EACPO,GAAG,eAEL,iBACEC,EAAE,iVACFtE,MAAO8D,EACPO,GAAG,qBCYb,GA1Ce,SAAC,GAAwB,IAAD,IAArB/F,MAChB,EAA4CyF,OADP,MAAb,OAAa,GAC7BD,EAAR,EAAQA,UAAWd,EAAnB,EAAmBA,UAAWU,EAA9B,EAA8BA,UAC9B,OACE,iBACEO,MAAM,6BACNC,QAAQ,MACRC,MAAM,SACNC,OAAO,YACPC,GAAG,UALL,WAOE,iBAAMA,GAAG,cACT,eAAGnC,UAAU,iCAAiCmC,GAAG,SAAjD,WACE,iBACEC,EAAE,iVACFtE,MAAOgD,EACPqB,GAAG,eAEL,iBACEC,EAAE,6CACFtE,MAAO0D,EACPW,GAAG,eAEL,iBACEC,EAAE,+UACFtE,MAAO8D,EACPO,GAAG,eAEL,iBACEC,EAAE,gVACFtE,MAAO8D,EACPO,GAAG,eAEL,iBACEC,EAAE,8UACFtE,MAAO8D,EACPO,GAAG,qBCzBPE,GAAe,CACnB,CAAEC,OAAO,SAAC,GAAD,CAAOlG,MAAM,SAAWJ,MAAO,GACxC,CAAEsG,OAAO,SAAC,GAAD,CAAOlG,MAAM,SAAWJ,MAAO,GACxC,CAAEsG,OAAO,SAAC,GAAD,CAAOlG,MAAM,SAAWJ,MAAO,GACxC,CAAEsG,OAAO,SAAC,GAAD,CAAOlG,MAAM,SAAWJ,MAAO,GACxC,CAAEsG,OAAO,SAAC,GAAD,CAAQlG,MAAM,SAAWJ,MAAO,IACzC,CAAEsG,OAAO,SAAC,GAAD,CAAQlG,MAAM,SAAWJ,MAAO,KAG9BuG,GAAsBC,OAAOC,KAAKvH,GAAqBb,KAClE,SAAAgG,GAAG,yBACEnF,EAAoBmF,IADtB,IAEDzE,KAAMyE,OAoFV,GAhFmC,SAAAtD,GACjC,IACE2F,EASE3F,EATF2F,uBACAC,EAQE5F,EARF4F,OACAC,EAOE7F,EAPF6F,cACAC,EAME9F,EANF8F,4BACAC,EAKE/F,EALF+F,UACA/G,EAIEgB,EAJFhB,eACAgH,EAGEhG,EAHFgG,OACAlH,EAEEkB,EAFFlB,WACAmH,EACEjG,EADFiG,mBAGIC,EAAkCxH,EAAAA,aACtC,SAACnB,EAAKsB,EAAMI,GAAZ,OACE8G,GAAU,SAAAI,GAAW,OACnB3G,MAAM4G,QAAQD,GACVA,EAAY7I,KAAI,SAAC+I,EAASC,GAAV,OACdA,IAAW/I,GAAX,kBAAsB8I,GAAtB,cAAgCxH,EAAOI,IAAUoH,KAEnDF,OAER,CAACJ,IAKH,OCjDyB,SAAC,GAAuC,IAArCH,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,cAAeG,EAAa,EAAbA,OACnD,GAA6BO,EAAAA,EAAAA,YAAWC,EAAAA,GAAhCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,UAETpF,GAAMqF,EAAAA,EAAAA,QAAO,CACjBf,OAAAA,EACAC,cAAAA,EACAG,OAAAA,EACAY,YAAa,QAGfC,EAAAA,EAAAA,YAAU,WACRvF,EAAI1F,QAAQgK,OAASA,EACrBtE,EAAI1F,QAAQiK,cAAgBA,EAC5BvE,EAAI1F,QAAQoK,OAASA,IACpB,CAACJ,EAAQC,EAAeG,IAE3B,IAAMc,GAAoBC,EAAAA,EAAAA,cAAY,YAAgB,IAAdC,GAAa,eAEjDA,IAAYC,EAAAA,GAAAA,gBACZ/L,EAAAA,EAAAA,IAAOoG,EAAI1F,QAAQiK,iBACnB3K,EAAAA,EAAAA,IAAOoG,EAAI1F,QAAQgK,SAEnBtE,EAAI1F,QAAQiK,gBACZvE,EAAI1F,QAAQgK,UAEZoB,IAAYC,EAAAA,GAAAA,iBACZ/L,EAAAA,EAAAA,IAAOoG,EAAI1F,QAAQgK,QAEnBtE,EAAI1F,QAAQgK,SAEZoB,IAAYC,EAAAA,GAAAA,gBACZ/L,EAAAA,EAAAA,IAAOoG,EAAI1F,QAAQoK,SAEnB1E,EAAI1F,QAAQoK,WACb,KAGHa,EAAAA,EAAAA,YAAU,WAMR,OALIJ,IACFnF,EAAI1F,QAAQgL,YAAcF,EAAUI,EAAmB,CACrDI,eAAAA,EAAAA,MAGG,kBACLT,GACmC,oBAA5BnF,EAAI1F,QAAQgL,aACnBtF,EAAI1F,QAAQgL,iBACb,CAACH,KAGJI,EAAAA,EAAAA,YAAU,cAAU,IDHpBM,CAAmBnH,IAGjB,iBAAKJ,UAAU,kBAAf,WACE,UAAC,IAAD,CAAMwH,UAAU,EAAhB,WACE,iBAAKxH,UAAU,cAAf,WACE,SAAC,EAAD,CAAQC,QAASgG,EAAjB,UACE,SAACwB,EAAA,EAAD,OAEF,SAAC,EAAD,CAAQxH,QAAS+F,EAAjB,UACE,SAAC0B,EAAA,EAAD,OAEF,SAAC,EAAD,CAAQzH,QAASmG,EAAjB,UACE,SAACuB,EAAA,EAAD,UAGJ,iBAAK3H,UAAU,cAAf,WACE,SAAC,GAAD,kBACMzB,EAAoBpC,KAD1B,IAEE8C,KAAK,MACLG,eAAgBA,EAChBC,MAAOH,EAAW/C,QAEpB,iBAAK6D,UAAU,mBAAf,WACE,gBAAKA,UAAU,QAAf,wBACA,SAAC,IAAD,CACEA,UAAU,oBACV4H,kBAAkB,yBAClBC,WAAY,IACZ/D,SAAU,SAAAzE,GAAK,OAAID,EAAe,YAAaC,IAC/CyI,QAASpC,GACTvF,KAAK,QACLd,MAAOH,EAAW3C,sBAK1B,mBACA,SAAC,IAAD,CAAMiL,UAAU,EAAhB,SACGnB,EAAmB3I,KAAI,SAACqK,EAAKpK,GAAN,OACtB,SAAC,EAAD,CACE6C,OAAQuF,IAA2BpI,EACnCkG,KAAMkE,EACNjE,SAAU,kBAAMoC,EAA4BvI,IAC5CyB,eAAgB,SAACH,EAAMI,GAAP,OACdiH,EAAgC3I,EAAKsB,EAAMI,KAExC1B,Y,4CEfjB,GApF6B,SAAC,GAKvB,IAJLtB,EAII,EAJJA,SACAlB,EAGI,EAHJA,cACA6M,EAEI,EAFJA,cAEI,IADJpL,MAAAA,OACI,MADI,WACJ,EACJ,EAAsCkC,EAAAA,UAAe,GAArD,eAAOmJ,EAAP,KAAoBC,EAApB,KAEMC,EAAcrJ,EAAAA,aAClB,kBAAMoJ,GAAe,KACrB,CAACA,IAGGE,EAAoBtJ,EAAAA,aACxB,SAACuJ,EAAYC,GAAb,OACEN,EACEM,EACI1I,MAAMC,KAAK,IAAI0I,IAAJ,mBAAYlM,GAAZ,CAAsBgM,MAAcG,MAAK,SAAC/M,EAAGC,GAAJ,OAClDD,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,KAE3BW,EAASoM,QAAO,SAAAC,GAAE,OAAIA,IAAOL,QAGrC,CAAClN,EAAe6M,EAAe3L,IAG3BsM,EAAO7J,EAAAA,SACX,kBACE,SAAC,KAAD,CAAMkB,UAAU,qBAAqBC,QAASkI,EAA9C,SACGvI,MAAMC,KAAKD,MAAMzE,IAAgBuC,KAAI,SAAC6F,EAAG5F,GAAJ,OACpC,SAAC,UAAD,WACE,iBAAKqC,UAAU,YAAf,WACE,2BAAMrC,EAAM,EAAZ,QACA,SAAC,KAAD,CACE2K,QAASjM,EAASuM,SAASjL,EAAM,GACjCkL,SAAU,SAAAxJ,GAAK,OAAI+I,EAAkBzK,EAAM,EAAG0B,IAC9Cc,KAAK,cANKxC,EAAM,UAa5B,CAACtB,EAAUlB,IAGP2N,EAAUhK,EAAAA,SAAc,WAC5B,IAAKzC,EAAU,MAAO,GACtB,MAAyBA,EAASN,QAChC,SAACgD,EAAKgK,GAOJ,OALEhK,EAAIiK,MAAMtJ,OAAS,GACnBqJ,EAAUhK,EAAIiK,MAAMjK,EAAIiK,MAAMtJ,OAAS,GAAK,EAE5CX,EAAIkK,MAAMC,KAAKH,GACZhK,EAAIiK,MAAME,KAAKH,GACbhK,IAET,CAAEiK,MAAO,GAAIC,MAAO,KAVdD,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MAaf,OAAOD,EAAMtJ,OAAS,EAAf,UACAsJ,EAAM,GADN,YACYA,EAAMA,EAAMtJ,OAAS,IADjC,OACsCuJ,EAAMvJ,OAAS,EAAI,KAAO,IACnE,mBAAIsJ,IAAJ,QAAcC,IAAOR,QAAO,SAAClF,EAAG5F,GAAJ,OAAYA,EAAM,KAAGwL,KAAK,MACnDF,EAAMvJ,OAAS,EAAI,KAAO,MAChC,CAACrD,IAEJ,OACE,gBAAK2D,UAAU,kCAAf,UACE,SAAC,KAAD,CACEoJ,gBAAiBlB,EACjBmB,QAASV,EACTW,UAAU,cACVC,QAAStB,EAJX,UAME,4BACE,gBAAKjI,UAAU,QAAf,SAAwBpD,KACxB,gBAAKoD,UAAU,UAAf,SAA0B8I,Y,sBClCpC,GAzC+B,SAAC,GAAyB,IAAvBtO,EAAsB,EAAtBA,MAAOqO,EAAe,EAAfA,SACjCW,EAAe1K,EAAAA,aACnB,SAAA2K,GAAiB,IAAD,EACRpK,EACoB,kBAAjBoK,EACHA,EACAnP,KAAK+C,IACH,EACA/C,KAAK8C,IlBPO,IkBOgBvC,SAAQ,UAAC4O,EAAaC,cAAd,aAAC,EAAqBrK,SAGlEwJ,EACExJ,EAAQ7E,EAAMkF,OAAd,mBAESlF,IAFT,QAGSoF,MAAMC,KAAKD,MAAMP,EAAQ7E,EAAMkF,SAAShC,KAAI,kBAC7CgB,SAGJlE,EAAMsB,MAAM,EAAGuD,MAGvB,CAAC7E,EAAOqO,IAGV,OACE,iBAAK7I,UAAU,6CAAf,WACE,gBAAKA,UAAU,QAAf,qBACA,SAAC,KAAD,CACEwH,UAAU,EACVnK,IlB7BkB,IkB8BlBD,IAAK,EACLuM,OAAQH,EACRI,aAAcJ,EACdK,OAAQL,EACRlM,cAAmB,OAAL9C,QAAK,IAALA,OAAA,EAAAA,EAAOkF,SAAU,Q,gBC1BjCd,GAAgBiH,OAAOC,KAAKxH,GAAwBZ,KAAI,SAAAgG,GAAG,yBAC5DpF,EAAuBoF,IADqC,IAE/DzE,KAAMyE,OAmIR,GAhIsB,SAAC,GAAwC,IAAtCoG,EAAqC,EAArCA,cAAejG,EAAsB,EAAtBA,KAAMsC,EAAgB,EAAhBA,UACpC7J,EAA4BuH,EAA5BvH,aAAcuB,EAAcgG,EAAdhG,UAEhBkM,EAAyBjL,EAAAA,SAC7B,kBACE+E,GAAQjE,MAAM4G,QAAQ3C,EAAKrJ,OACvBsP,EAAgBjG,EAAKrJ,MAAMkF,OAC3BoK,IACN,CAACA,EAAejG,IAGZhF,EAAkBC,EAAAA,SACtB,iBAAO,CAAExC,aAAAA,EAAcuB,UAAAA,KACvB,CAACvB,EAAcuB,IAGjB,EAAuCc,EACrCC,GACAC,GAFMK,EAAR,EAAQA,WAAYE,EAApB,EAAoBA,eAKpBN,EAAAA,WACE,kBAAMqH,GAAU,SAAAV,GAAC,yBAAUA,GAAMvG,QACjC,CAACA,IAGH,IAAM8K,EAA8BlL,EAAAA,aAClC,SAAAtE,GAAK,OACH2L,GAAU,SAAAI,GAAW,yBAChBA,GADgB,IAEnB/L,MAAAA,SAEJ,CAAC2L,IAGG8D,EAAuBnL,EAAAA,aAC3B,SAAAzC,GAAQ,OACN8J,GAAU,SAAAI,GAAW,yBAChBA,GADgB,IAEnBlK,SAAAA,SAEJ,CAAC8J,IAGH,ElBnCmB,SAAA+D,GACnB,IAAMjK,EAAUnB,EAAAA,aACd,SAACqL,EAAU5G,EAAG5C,GACZyJ,QAAQC,IAAI,WACZH,GAAW,gBAAG1P,EAAH,EAAGA,MAAU8P,GAAb,2BAAC,UACPA,GADM,IAET9P,MAAOA,EAAMkD,KAAI,SAACK,EAAMJ,GAAP,OACfA,IAAQwM,GAAR,kBAAwBpM,GAAxB,IAA8BG,IAAKH,EAAKG,KAAOH,YAIrD,CAACmM,IAGGrJ,EAAU/B,EAAAA,aACd,SAACqL,EAAUI,GAAX,OACEL,GAAW,gBAAG1P,EAAH,EAAGA,MAAU8P,GAAb,2BAAC,UACPA,GADM,IAET9P,MAAOA,EAAMkD,KAAI,SAACK,EAAMJ,GAAP,OACfA,IAAQwM,GAAR,kBAESpM,GAFT,IAGMtD,KAAoB,OAAd8P,EAAqBxM,EAAKtD,KAAO,EAAIsD,EAAKtD,KAAO,IAEzDsD,YAGV,CAACmM,IAcH,MAAO,CACLjK,QAAAA,EACAuK,SAbe1L,EAAAA,aAAkB,SAAC6B,EAAGT,GAQrC,OAPAkK,QAAQC,IAAI,WAAYnK,GACxBS,EAAEsB,iBACFtB,EAAEoB,kBACFmI,GAAW,gBAAG1P,EAAH,EAAGA,MAAU8P,GAAb,2BAAC,UACPA,GADM,IAET9P,MAAOA,EAAMiO,QAAO,SAAClF,EAAG5F,GAAJ,OAAYA,IAAQuC,WAEnC,IACN,IAKDW,QAAAA,GkBTiC4J,CAAatE,GAAxCqE,EAAR,EAAQA,SAAaE,GAArB,aAEA,ElBiNuB,SAAAR,GACvB,IAAMxI,EAAM5C,EAAAA,OAAa,CAAE6L,aAAc,KACjC7D,EAAchI,EAAAA,WAAiB8H,EAAAA,GAA/BE,UACR,EAAwBhI,EAAAA,SAAe5B,GAAvC,eAAO0N,EAAP,KAAaC,EAAb,KAEMC,EAAoBhM,EAAAA,aAAkB,SAAAiM,GAAW,OACrDF,EAAQE,EAAc7N,EAAwBA,MAI1C8N,EAAYlM,EAAAA,aAChB,SAAA7D,GACE,IAAKD,EAAAA,EAAAA,IAASC,GAAd,CAEA,IAAMR,EAAOQ,EAAY,GACzBgQ,aAAavJ,EAAI1F,QAAQ2O,aAAalQ,IACtCiH,EAAI1F,QAAQ2O,aAAalQ,GAAQyQ,YAAW,WAC1ChB,GAAW,gBAAG1P,EAAH,EAAGA,MAAU8P,GAAb,2BAAC,UACPA,GADM,IAET9P,MAAOA,EAAM2Q,OAAO,CAAE1Q,KAAAA,EAAMyD,IAAI,EAAMxB,SAAU,YAEjD,OAEL,CAACwN,IAGGa,EAAcH,IAAS1N,EAU7B,OAPA4B,EAAAA,WAAgB,WACd,IAAIkI,EAAc,KAGlB,OAFI+D,IAAa/D,EAAcF,EAAUkE,EAAW,CAAE1D,eAAAA,EAAAA,MAE/C,kBAAMN,GAAeA,OAC3B,CAAC+D,IAEG,CACLA,YAAaH,IAAS1N,EACtB0N,KAAAA,EACAE,kBAAAA,EACAD,QAAAA,GkBzPyCO,CAAiBjF,GAApD4E,EAAR,EAAQA,YAAaD,EAArB,EAAqBA,kBAErB,OACE,iBAAK9K,UAAU,iBAAf,WACE,gBAAKA,UAAU,WAAf,UACE,UAAC,IAAD,CAAMwH,UAAU,EAAhB,WACE,iBAAKxH,UAAU,4BAAf,WACE,iBAAKA,UAAU,uBAAf,WACE,gBACEA,UAAU,uBACVmB,MAAO,CAAE+C,gBAAe,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAMpE,UAElC,iCAAOoE,QAAP,IAAOA,OAAP,EAAOA,EAAMjH,YAEf,iBAAKoD,UAAU,kBAAf,WACE,SAAC,EAAD,CACEK,YAAY,QACZE,gBAAiBuK,EAFnB,UAIE,iBAAK9K,UAAU,cAAf,kBACM,gBAAKA,UAAU,kBAEL,WAGtB,gBAAKA,UAAU,iBACf,gBAAKA,UAAU,YAAf,UACE,SAAC,GAAD,CACExF,MAAK,OAAEqJ,QAAF,IAAEA,OAAF,EAAEA,EAAMrJ,MACbqO,SAAUmB,OAGd,gBAAKhK,UAAU,YAAf,UACE,SAAC,GAAD,CACE3D,SAAQ,OAAEwH,QAAF,IAAEA,OAAF,EAAEA,EAAMxH,SAChBlB,cAAeA,GAAAA,GACf6M,cAAeiC,EACfrN,MAAM,eAGTgC,GAAclB,KAAI,SAAA2N,GAAC,OAClB,gBAAKrL,UAAU,YAAf,UACE,SAAC,GAAD,kBACMqL,GADN,IAEEjM,eAAgBA,EAChBC,MAAOH,EAAWmM,EAAEpM,UAJQoM,EAAEpM,eAUxC,gBAAKe,UAAU,iBAAf,SACGJ,MAAM4G,QAAN,OAAc3C,QAAd,IAAcA,OAAd,EAAcA,EAAMrJ,QACnBqJ,EAAKrJ,MAAMkD,KAAI,WAAeC,GAAf,IAAGlD,EAAH,EAAGA,KAAMyD,EAAT,EAASA,GAAT,OACb,iCACE,SAAC,GAAD,gBACEsC,QAASuK,GAAehB,IAA2BpM,EACnDuC,MAAOvC,EAEPO,IAAK6M,GAAe7M,EACpB4C,gBACEiK,IACE,gBACE/K,UAAU,eACVC,QAAS,SAAAU,GAAC,OAAI6J,EAAS7J,EAAGhD,IAF5B,gBAQA+M,GAfN,cAiBGvQ,EAAAA,EAAAA,IAAaM,KAdTA,IAgBLkD,EAAM,GAAK,IAAM,IAAK,gBAAKqC,UAAU,6B,qBClFrD,GA/CsB,WACpB,InBkQsCsL,EmBlQtC,EAAoDxM,EAAAA,UnBkQdwM,EmBjQJ9N,EAAepB,gBnBkQ9BwD,MAAM4G,QAAQ8E,GAAkBA,EAAiB,IAClD5N,IAAI6B,KmBpQtB,eAAO8G,EAAP,KAA2BkF,EAA3B,KAIA,EAAoDzM,EAAAA,SAAe,GAAnE,eAAO0M,EAAP,KAA2BC,EAA3B,KACMC,EAAyB5M,EAAAA,aAC7B,SAAA+E,GACE,IAAM8H,EAA6B,oBAAT9H,EAAsBA,EAAO,kBAAMA,GAC7D0H,GAAsB,SAAAK,GAAU,OAC9BA,EAAWlO,KAAI,SAAC6I,EAAa5I,GAAd,OACbA,IAAQ6N,EAAqBG,EAAWpF,GAAeA,UAI7D,CAACgF,EAAuBC,IAG1B,EAAuC7M,EAAciH,IAA7C1G,EAAR,EAAQA,WAAYE,EAApB,EAAoBA,eAEpB,EnB8CsB,SAAC,EAEvBiH,EACAwF,GACI,IAHF1P,EAGC,EAHDA,IAAKI,EAGJ,EAHIA,UAAc2C,GAGlB,YACG4M,EAAchN,EAAAA,WAAiB8H,EAAAA,GAC7BmF,EAAmBD,EAAnBC,eAER,EAA0CjN,EAAAA,SAAe,MAAzD,eAAOgL,EAAP,KAAsBkC,EAAtB,KAGMtK,EAAM5C,EAAAA,QAAA,kBACPI,GADO,IAEV+M,WAAY,KACZC,eAAgBzN,EAAkBtC,EAAKI,GACvC4P,QAAS,EACTC,eAAgB,GAChBC,qBAAsB,KACtBC,WAAY,KAKdxN,EAAAA,WAAgB,WACiB,OAA3B4C,EAAI1F,QAAQiQ,WACdvK,EAAI1F,QAAQqQ,qBAAuB5N,EAAkBtC,EAAKI,GACvDmF,EAAI1F,QAAQkQ,eAAiBzN,EAAkBtC,EAAKI,KACxD,CAACJ,EAAKI,IAGTuC,EAAAA,WAAgB,WACd+G,OAAOC,KAAK5G,GAAYqN,SAAQ,SAAA7I,GAC9BhC,EAAI1F,QAAQ0H,GAAOxE,EAAWwE,QAE/B,CAACxE,IAGJJ,EAAAA,WAAgB,WACd,GAAIc,MAAM4G,QAAQH,GAAqB,CACrC3E,EAAI1F,QAAQoQ,eAAiB/F,EAE7B,IAAMmG,EAAU,IAAIjE,IAChBkE,GAAiB,EAErBpG,EAAmBkG,SAAQ,SAAAxE,GACzByE,EAAQE,IAAI3E,EAAIvN,MAAMkF,QACtB+M,IAAAA,EAAmB1E,EAAIjI,SAGzB4B,EAAI1F,QAAQyQ,eAAiBA,EAC7B/K,EAAI1F,QAAQsQ,YAAa1Q,EAAAA,EAAAA,IAAoBgE,MAAMC,KAAK2M,OAEzD,CAACnG,IAGJ,IAAMsG,EAAW7N,EAAAA,aAAkB,WACjC,MAMI4C,EAAI1F,QALNyQ,EADF,EACEA,eACAL,EAFF,EAEEA,eACAD,EAHF,EAGEA,QACAE,EAJF,EAIEA,qBACAC,EALF,EAKEA,WAIED,IACFO,cAAclL,EAAI1F,QAAQiQ,YAC1BvK,EAAI1F,QAAQkQ,eAAiBG,EAC7B3K,EAAI1F,QAAQqQ,qBAAuB,KACnC3K,EAAI1F,QAAQiQ,WAAaY,YAAYF,EAAUN,IAGjDL,EAAiBG,GAEjBzK,EAAI1F,QAAQmQ,UACRzK,EAAI1F,QAAQmQ,SAAWG,IAAY5K,EAAI1F,QAAQmQ,QAAU,GAG7D,MAAwCC,EAAerQ,QACrD,SAACgD,EAAD,GAAoE,IAA5D1C,EAA2D,EAA3DA,SAAUsD,EAAiD,EAAjDA,KAAMrD,EAA2C,EAA3CA,aAAc9B,EAA6B,EAA7BA,MAAOsF,EAAsB,EAAtBA,KAAMjC,EAAgB,EAAhBA,UACjD,GAAI4O,IAAmB3M,EAAM,OAAOf,EACpC,GAAIY,EAAM,OAAOZ,EAEjB,MAA+BvE,EAAM2R,EAAU3R,EAAMkF,QAA7CjF,EAAR,EAAQA,KAAMyD,EAAd,EAAcA,GAAIxB,EAAlB,EAAkBA,SAkBlB,OAjBIwB,GAAMxB,EAAW,GACnBL,EAASkQ,SAAQ,SAAAxD,GACf,IAAM+D,EAAarS,EAAOoD,EAC1BkB,EAAIgO,SAAS7D,KAAK,CAChB7B,EAAAA,GAAa,UAAD,OAAW0B,EAAX,WACZ+D,EACApQ,IAEGqC,EAAIiO,kBAAkB1Q,KACzByC,EAAIiO,kBAAkB1Q,GAAgB,IACxCyC,EAAIiO,kBAAkB1Q,GAAc4M,KAAK,CACvC7B,EAAAA,GAAa,UAAD,OAAW0B,EAAX,WACZ+D,EACA,OAIC/N,IAET,CAAEgO,SAAU,GAAIC,kBAAmB,KAzB7BD,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,kBA4BbD,EAASrN,SAEdqN,EAASR,SAAQ,SAAAnF,GAAO,OAAI2E,EAAekB,KAAK7F,MAChDvB,OAAOC,KAAKkH,GAAmBT,SAAQ,SAAAW,GACrC,IAAMC,EAAcH,EAAkBE,GACtChC,YACE,kBACEiC,EAAYZ,SAAQ,SAAAa,GAAU,OAAIrB,EAAekB,KAAKG,QACxDF,SAGH,CAACnB,IAGJjN,EAAAA,WAAgB,WAId,OAHI+M,GAAS,OAAIC,QAAJ,IAAIA,GAAAA,EAAajF,OAASiF,EAAYC,iBACjDrK,EAAI1F,QAAQiQ,WAAaY,YAAYF,EAAUT,iBAE1C,WACLU,cAAclL,EAAI1F,QAAQiQ,YAC1BvK,EAAI1F,QAAQiQ,WAAa,QAE1B,CAACJ,IAGJ,IAAM5F,EAAgBnH,EAAAA,aAAkB,WACtCkN,EAAiB,GACjBtK,EAAI1F,QAAQmQ,QAAU,IACrB,CAACH,IAeJ,MAAO,CACLlC,cAAAA,EACA9D,OAfalH,EAAAA,aAAkB,WACA,OAA3B4C,EAAI1F,QAAQiQ,aACdvK,EAAI1F,QAAQiQ,WAAaY,YACvBF,EACAjL,EAAI1F,QAAQkQ,mBAEf,CAACS,IAUF1G,cAAAA,EACAG,OATatH,EAAAA,aAAkB,WAC/B8N,cAAclL,EAAI1F,QAAQiQ,YAC1BvK,EAAI1F,QAAQiQ,WAAa,OACxB,KmBjM+CoB,CAChDnO,EACAmH,GAFMyD,EAAR,EAAQA,cAAkBwD,GAA1B,aAKA,OACE,iBAAKtN,UAAU,YAAf,WACE,SAACuN,IAAD,kBACMD,GADN,IAEEvH,uBAAwByF,EACxBtM,WAAYA,EACZE,eAAgBA,EAChB8G,4BAA6BuF,EAC7BtF,UAAWoF,EACXlF,mBAAoBA,MAEtB,gBAAKrG,UAAU,iBAAf,UACE,SAAC,GAAD,CACE8J,cAAeA,EACfjG,KAAMwC,EAAmBmF,GACzBrF,UAAWuF","sources":["lib/midi.js","lib/utils.js","routes/MidiSequencer/tunes.js","routes/MidiSequencer/constants.js","routes/MidiSequencer/utils.js","components/KeyboardComponents/Button.js","components/KeyboardComponents/LatchingButton.js","components/KeyboardComponents/Pad.js","components/KeyboardComponents/RotaryKnob.js","components/KeyboardComponents/ParameterKnob.js","routes/MidiSequencer/GlobalControl/StepSequencerSummary.js","assets/notes/styles.js","assets/notes/note1.js","assets/notes/note2.js","assets/notes/note4.js","assets/notes/note8.js","assets/notes/note16.js","assets/notes/note32.js","routes/MidiSequencer/GlobalControl/index.js","routes/MidiSequencer/GlobalControl/keyboardControl.js","routes/MidiSequencer/StepSequencer/MidiChannelsSelector.js","routes/MidiSequencer/StepSequencer/SequenceLengthModifier.js","routes/MidiSequencer/StepSequencer/index.js","routes/MidiSequencer/index.js"],"sourcesContent":["import { noteOnStart, noteOffStart, numOfChannels, notes } from './constants';\r\n\r\nconst noteToString = number => {\r\n  const octave = Math.floor(number / notes.length);\r\n  const note = number % notes.length;\r\n  return `${notes[note]}${octave}`;\r\n};\r\n\r\nconst noteToMidi = str => {\r\n  const [_, note, octave] = (str || '').match(/(.{1,2})(\\d{1})/) || [];\r\n  return !note || !octave\r\n    ? null\r\n    : parseInt(octave) * notes.length +\r\n        notes.findIndex(n => n === note.toUpperCase());\r\n};\r\n\r\n// check for noteOn number\r\nconst isNoteOn = midiMessage =>\r\n  midiMessage[0] >= noteOnStart &&\r\n  midiMessage[0] <= noteOnStart + numOfChannels &&\r\n  midiMessage[2] > 0;\r\n\r\n// either noteOff number or noteOn and velocity is 0\r\nconst isNoteOff = midiMessage =>\r\n  (midiMessage[0] >= noteOffStart &&\r\n    midiMessage[0] <= noteOffStart + numOfChannels) ||\r\n  (midiMessage[0] >= noteOnStart &&\r\n    midiMessage[0] <= noteOnStart + numOfChannels &&\r\n    midiMessage[2] === 0);\r\n\r\nexport { isNoteOn, isNoteOff, noteToMidi, noteToString };\r\n","const isFunc = arg => typeof arg === 'function';\r\n\r\nconst greatestCommonDivisor = (a, b) => (!b ? a : gcd(b, a % b));\r\n\r\nconst leastCommonMultipleInner = (a, b) => (a * b) / gcd(a, b);\r\n\r\nconst leastCommonMultiple = (...numbers) =>\r\n  numbers\r\n    .slice(1)\r\n    .reduce(\r\n      (current, num) => leastCommonMultipleInner(current, num),\r\n      numbers[0]\r\n    );\r\n\r\nexport { greatestCommonDivisor, isFunc, leastCommonMultiple };\r\n","const tunez = {\r\n  //lazerhawk's lawless\r\n  lawless: {\r\n    bpm: 90,\r\n    stepSequencers: [\r\n      {\r\n        channels: [1],\r\n        noteDuration: 30,\r\n        notes:\r\n          'C4 G4 C5 D#5 D5 C5 D5 D#5 G5 D#5 D5 C5 G4 F4 D#4 D4 C6 C6 C6 C5 C5 C5 C6 C6 C6 G5 D#5 D5 C5 G4 D#4 D4',\r\n      },\r\n    ],\r\n    noteValue: 16,\r\n  },\r\n\r\n  // tigran hamasyan's the grid intro\r\n  theGrid: {\r\n    bpm: 138,\r\n    stepSequencers: [\r\n      {\r\n        channels: [1, 2, 3, 4],\r\n        noteDuration: 100,\r\n        notes:\r\n          'G3 D4 G4 C5 D5 D#4 G4 A#4 D#5 F5 B3 G4 G#4 D5 D#5 F5 G5 G3 D4 G4 C5 D5 F4 G4 A#4 D#5 F5 C4 G4 G#4 D5 D#5',\r\n      },\r\n    ],\r\n    noteValue: 16,\r\n  },\r\n\r\n  // tigran hamasyan's new maps\r\n  newMaps: {\r\n    bpm: 120,\r\n    stepSequencers: [\r\n      {\r\n        channels: [1, 2, 3, 4],\r\n        noteDuration: 600,\r\n        notes:\r\n          'C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G#5:90 C5 G#4 C#5 D#5 A#4 C5 G#5:90 G#5:0 C5 A#4 C5 G#5 C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G5:90 C5 G#4 C#5 D#5 A#4 C#5 A#5:90 A#5:0 C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G#5:90 C5 G#4 C#5 D#5 A#4 C5 G#5:90 G#5:0 C5 A#4 C5 G#5 C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G5:90 A#4 G#4 C#5 D#5 A#4 C#5 C6:90 C6:0',\r\n      },\r\n    ],\r\n    noteValue: 16,\r\n    velocity: 54,\r\n  },\r\n\r\n  // dream theater's metropolis mid keyboard part\r\n  metropolis: {\r\n    bpm: 120,\r\n    noteValue: 16,\r\n    stepSequencers: [\r\n      {\r\n        channels: [1],\r\n        noteDuration: 100,\r\n        notes: 'C5 G5 D6 C7 B6 F6 E5 B5 F#6 F7 E7 A#6 D7 C#7 A6 C7 B6 G#6',\r\n        title: 'Voice',\r\n      },\r\n      {\r\n        channels: [1],\r\n        noteDuration: 100,\r\n        notes: 'F5 C6 G6 F7 E7 A#6 A5 E6 B6 A#7 A7 D#7 G7 F#7 D7 F7 E7 C#7',\r\n        title: 'Voice 4th up',\r\n      },\r\n    ],\r\n  },\r\n\r\n  // chaka khan's ain't no nobody - testing polyrhythmic sequences\r\n  aintNobody: {\r\n    bpm: 100,\r\n    noteValue: 16,\r\n    stepSequencers: [\r\n      {\r\n        channels: [1],\r\n        noteDuration: 100,\r\n        notes: 'D#3 A#3 C#4 D#4 D#4 A#4 C#5 D#5 D#6',\r\n        title: 'Sampler',\r\n      },\r\n      {\r\n        channels: [1],\r\n        noteDuration: 100,\r\n        notes:\r\n          'x x x x F#6:100 x F#6:100 x F#6:100 D#6:100 A#5:100 G#6:100 x G#6:100 F6:100 C#6:100',\r\n        title: 'Melody',\r\n      },\r\n    ],\r\n  },\r\n\r\n  // a dark knight theme\r\n  darkKnight: {\r\n    bpm: 100,\r\n    noteValue: 16,\r\n    stepSequencers: [\r\n      {\r\n        channels: [15, 16],\r\n        noteDuration: 100,\r\n        notes:\r\n          'F5:70 A4 D5:70 A4 F5:70 A4 D5:70 A4 F5:70 A4 D5:70 A4 F5:70 A#4 D5:70 A#4',\r\n        title: 'Strings',\r\n      },\r\n      {\r\n        channels: [14],\r\n        noteDuration: 100,\r\n        notes: 'x D4 x x D4 x D4 x x D4 x x D4 x D4 x',\r\n        title: 'Synth',\r\n      },\r\n    ],\r\n    velocity: 60,\r\n  },\r\n\r\n  // 09:37 in this video: https://www.youtube.com/watch?v=EcXupJGNw1s\r\n  foundPattern01: {\r\n    bpm: 80,\r\n    noteValue: 16,\r\n    stepSequencers: [\r\n      {\r\n        channels: [1, 2, 3, 4],\r\n        noteDuration: 100,\r\n        notes: 'F4 A#5 C6 F6 C7 F7 C8 F#6 F#4 C#5 G#5 C6 C#6 A#5 F6 C#5',\r\n        title: 'Pattern 1',\r\n      },\r\n    ],\r\n  },\r\n\r\n  // ludwig goransson's FOILS from Tenet\r\n  foilz: {\r\n    bpm: 75,\r\n    noteValue: 16,\r\n    stepSequencers: [\r\n      {\r\n        channels: [1],\r\n        noteDuration: 100,\r\n        notes:\r\n          'D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 F3 A#3 F4 F3 A#3 F4 F3 A#3 F4 F3 A#3 F4 F3 A#3 F4 F3 A#3 F4 F3 A#3 F4 F3 A#3 F4 F#3 A#3 F#4 F#3 A#3 F#4 F#3 A#3 F#4 F#3 A#3 F#4 G#3 B3 G#4 G#3 B3 G#4 G#3 B3 G#4 G#3 B3 G#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4 D#3 D#4 F#4',\r\n        title: 'Pattern 1',\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nexport default tunez;\r\n","import { noteToMidi } from 'lib/midi';\r\nimport tunes from './tunes';\r\n\r\nconst defaultVelocity = 64;\r\nconst defaultNote = noteToMidi('C5');\r\nconst defaultPatternLength = 16;\r\nconst maxSequencerNotes = 120;\r\n\r\nconst sequencerModes = {\r\n  play: 'play',\r\n  record: 'record',\r\n};\r\n\r\nconst createParameter = (min, max, defaultValue, title, centerBased) => ({\r\n  centerBased: centerBased === true,\r\n  defaultValue,\r\n  max,\r\n  min,\r\n  title,\r\n});\r\n\r\nconst formatPattern = ({ stepSequencers, ...pattern }) => ({\r\n  ...pattern,\r\n  stepSequencers: stepSequencers.map(\r\n    ({ notes, title, ...stepSequencer }, idx) => ({\r\n      ...stepSequencer,\r\n      title: title || `Step Sequencer ${idx + 1}`,\r\n      transpose: 0,\r\n      notes: notes.split(' ').map(item => {\r\n        const [note, velocityStr] = item.split(':');\r\n        const pause = note === 'x';\r\n        const velocity = pause ? 0 : parseInt(velocityStr);\r\n        return {\r\n          note: pause ? null : noteToMidi(note),\r\n          on: velocity !== 0,\r\n          velocity: isNaN(velocity)\r\n            ? pattern.velocity || defaultVelocity\r\n            : velocity,\r\n        };\r\n      }),\r\n    })\r\n  ),\r\n});\r\n\r\nconst defaultPattern = formatPattern(tunes.foilz);\r\n\r\nconst sequencerParameterData = {\r\n  noteDuration: createParameter(\r\n    1,\r\n    1000,\r\n    defaultPattern.noteDuration,\r\n    'Note Duration'\r\n  ),\r\n  transpose: createParameter(-24, 24, 0, 'Transpose', true),\r\n};\r\n\r\nconst globalParameterData = {\r\n  bpm: createParameter(40, 280, defaultPattern.bpm, 'Tempo'),\r\n  noteValue: createParameter(1, 32, defaultPattern.noteValue, 'NoteValue'),\r\n};\r\n\r\nconst stepSequencerColors = [\r\n  '#709FB0',\r\n  '#849974',\r\n  '#765285',\r\n  '#AB3E16',\r\n  '#2A93D5',\r\n  '#6CBF84',\r\n  '#E2B091',\r\n  '#36384C',\r\n];\r\n\r\nexport {\r\n  defaultNote,\r\n  defaultPattern,\r\n  defaultPatternLength,\r\n  defaultVelocity,\r\n  globalParameterData,\r\n  maxSequencerNotes,\r\n  sequencerModes,\r\n  sequencerParameterData,\r\n  stepSequencerColors,\r\n};\r\n","import React from 'react';\r\nimport MidiContext from 'components/Midi/Context';\r\nimport {\r\n  MidiMessages,\r\n  defaultIgnoreMessages as ignoreMessages,\r\n} from 'lib/enums';\r\nimport { leastCommonMultiple } from 'lib/utils';\r\nimport { isNoteOn } from 'lib/midi';\r\nimport {\r\n  defaultNote,\r\n  defaultPatternLength,\r\n  defaultVelocity,\r\n  sequencerModes,\r\n  stepSequencerColors,\r\n} from './constants';\r\n\r\nconst getIntervalMillis = (bpm, noteValue) => ((60000 / bpm) * 4) / noteValue;\r\n\r\nconst createNote = (\r\n  note = defaultNote,\r\n  velocity = defaultVelocity,\r\n  on = true\r\n) => ({\r\n  note,\r\n  on,\r\n  velocity,\r\n});\r\n\r\nconst usePadEvents = setPadData => {\r\n  const onClick = React.useCallback(\r\n    (padIndex, _, e) => {\r\n      console.log('clicked');\r\n      setPadData(({ notes, ...pd }) => ({\r\n        ...pd,\r\n        notes: notes.map((item, idx) =>\r\n          idx === padIndex ? { ...item, on: !item.on } : item\r\n        ),\r\n      }));\r\n    },\r\n    [setPadData]\r\n  );\r\n\r\n  const onWheel = React.useCallback(\r\n    (padIndex, direction) =>\r\n      setPadData(({ notes, ...pd }) => ({\r\n        ...pd,\r\n        notes: notes.map((item, idx) =>\r\n          idx === padIndex\r\n            ? {\r\n                ...item,\r\n                note: direction === 'up' ? item.note + 1 : item.note - 1,\r\n              }\r\n            : item\r\n        ),\r\n      })),\r\n    [setPadData]\r\n  );\r\n\r\n  const onDelete = React.useCallback((e, index) => {\r\n    console.log('deleting', index);\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setPadData(({ notes, ...pd }) => ({\r\n      ...pd,\r\n      notes: notes.filter((_, idx) => idx !== index),\r\n    }));\r\n    return false;\r\n  }, []);\r\n\r\n  return {\r\n    onClick,\r\n    onDelete,\r\n    onWheel,\r\n  };\r\n};\r\n\r\nconst useNotesPlaying = (\r\n  { bpm, noteValue, ...parameters },\r\n  stepSequencersData,\r\n  autostart\r\n) => {\r\n  const midiContext = React.useContext(MidiContext);\r\n  const { selectedOutput } = midiContext;\r\n\r\n  const [activeNoteIdx, setActiveNoteIdx] = React.useState(null);\r\n\r\n  // keep almmost every param in ref so that they can be pick by interval callback playNote\r\n  const ref = React.useRef({\r\n    ...parameters,\r\n    intervalId: null,\r\n    intervalMillis: getIntervalMillis(bpm, noteValue),\r\n    stepIdx: 0,\r\n    sequencersData: [],\r\n    tempoChangeRequested: null,\r\n    totalSteps: 0,\r\n  });\r\n\r\n  // if interval active, store new bpm to tempoChangeRequested\r\n  // it will be reset by the next playNote tick\r\n  React.useEffect(() => {\r\n    if (ref.current.intervalId !== null)\r\n      ref.current.tempoChangeRequested = getIntervalMillis(bpm, noteValue);\r\n    else ref.current.intervalMillis = getIntervalMillis(bpm, noteValue);\r\n  }, [bpm, noteValue]);\r\n\r\n  // update ref with the latest parameter values as they change\r\n  React.useEffect(() => {\r\n    Object.keys(parameters).forEach(key => {\r\n      ref.current[key] = parameters[key];\r\n    });\r\n  }, [parameters]);\r\n\r\n  // same for sequencer data\r\n  React.useEffect(() => {\r\n    if (Array.isArray(stepSequencersData)) {\r\n      ref.current.sequencersData = stepSequencersData;\r\n\r\n      const lengths = new Set();\r\n      let atLeastOneSolo = false;\r\n\r\n      stepSequencersData.forEach(seq => {\r\n        lengths.add(seq.notes.length);\r\n        atLeastOneSolo ||= seq.solo;\r\n      });\r\n\r\n      ref.current.atLeastOneSolo = atLeastOneSolo;\r\n      ref.current.totalSteps = leastCommonMultiple(Array.from(lengths));\r\n    }\r\n  }, [stepSequencersData]);\r\n\r\n  // the interval callback where all the interesting stuff take place\r\n  const playNote = React.useCallback(() => {\r\n    const {\r\n      atLeastOneSolo,\r\n      sequencersData,\r\n      stepIdx,\r\n      tempoChangeRequested,\r\n      totalSteps,\r\n    } = ref.current;\r\n\r\n    // pending temp change. set intervalMillis, reset tempoChangeRequested and restart interval\r\n    if (tempoChangeRequested) {\r\n      clearInterval(ref.current.intervalId);\r\n      ref.current.intervalMillis = tempoChangeRequested;\r\n      ref.current.tempoChangeRequested = null;\r\n      ref.current.intervalId = setInterval(playNote, tempoChangeRequested);\r\n    }\r\n\r\n    setActiveNoteIdx(stepIdx);\r\n\r\n    ref.current.stepIdx++;\r\n    if (ref.current.stepIdx >= totalSteps) ref.current.stepIdx = 0;\r\n\r\n    // pad is not on, no sound required\r\n    const { messages, messagesOffGroups } = sequencersData.reduce(\r\n      (obj, { channels, mute, noteDuration, notes, solo, transpose }) => {\r\n        if (atLeastOneSolo && !solo) return obj;\r\n        if (mute) return obj;\r\n\r\n        const { note, on, velocity } = notes[stepIdx % notes.length];\r\n        if (on && velocity > 0)\r\n          channels.forEach(channel => {\r\n            const actualNote = note + transpose;\r\n            obj.messages.push([\r\n              MidiMessages[`Channel${channel}NoteOn`],\r\n              actualNote,\r\n              velocity,\r\n            ]);\r\n            if (!obj.messagesOffGroups[noteDuration])\r\n              obj.messagesOffGroups[noteDuration] = [];\r\n            obj.messagesOffGroups[noteDuration].push([\r\n              MidiMessages[`Channel${channel}NoteOn`],\r\n              actualNote,\r\n              0,\r\n            ]);\r\n          });\r\n\r\n        return obj;\r\n      },\r\n      { messages: [], messagesOffGroups: {} }\r\n    );\r\n\r\n    if (!messages.length) return;\r\n\r\n    messages.forEach(message => selectedOutput.send(message));\r\n    Object.keys(messagesOffGroups).forEach(duration => {\r\n      const messagesOff = messagesOffGroups[duration];\r\n      setTimeout(\r\n        () =>\r\n          messagesOff.forEach(messageOff => selectedOutput.send(messageOff)),\r\n        duration\r\n      );\r\n    });\r\n  }, [selectedOutput]);\r\n\r\n  // auto begin playing\r\n  React.useEffect(() => {\r\n    if (autostart && midiContext?.ready && midiContext.selectedOutput)\r\n      ref.current.intervalId = setInterval(playNote, intervalMillis);\r\n\r\n    return () => {\r\n      clearInterval(ref.current.intervalId);\r\n      ref.current.intervalId = null;\r\n    };\r\n  }, [autostart]);\r\n\r\n  // start/stop/seek to start button callbacks\r\n  const onSeekToStart = React.useCallback(() => {\r\n    setActiveNoteIdx(0);\r\n    ref.current.stepIdx = 0;\r\n  }, [setActiveNoteIdx]);\r\n\r\n  const onPlay = React.useCallback(() => {\r\n    if (ref.current.intervalId === null)\r\n      ref.current.intervalId = setInterval(\r\n        playNote,\r\n        ref.current.intervalMillis\r\n      );\r\n  }, [playNote]);\r\n\r\n  const onStop = React.useCallback(() => {\r\n    clearInterval(ref.current.intervalId);\r\n    ref.current.intervalId = null;\r\n  }, []);\r\n\r\n  return {\r\n    activeNoteIdx,\r\n    onPlay,\r\n    onSeekToStart,\r\n    onStop,\r\n  };\r\n};\r\n\r\nconst useParameters = (parametersArr, parameterValues = {}) => {\r\n  const [parameters, setParameters] = React.useState(\r\n    parametersArr.reduce((obj, parameterData) => {\r\n      obj[parameterData.name] =\r\n        parameterValues[parameterData.name] || parameterData.defaultValue;\r\n      return obj;\r\n    }, {})\r\n  );\r\n\r\n  const onSetParameter = React.useCallback(\r\n    (name, value) =>\r\n      setParameters(curr => ({\r\n        ...curr,\r\n        [name]: value,\r\n      })),\r\n    []\r\n  );\r\n\r\n  return {\r\n    onSetParameter,\r\n    parameters,\r\n  };\r\n};\r\n\r\nconst createDefaultStepSequencerData = (stepSequencerData, idx) => ({\r\n  channels: stepSequencerData?.channels || [1],\r\n  color: stepSequencerColors[idx % stepSequencerColors.length],\r\n  mute: stepSequencerData?.mute || false,\r\n  noteDuration: stepSequencerData?.noteDuration || 100,\r\n  notes:\r\n    stepSequencerData?.notes ||\r\n    Array.from(Array(defaultPatternLength)).map(() => createNote()),\r\n  solo: stepSequencerData?.solo || false,\r\n  title: stepSequencerData?.title || `StepSequencer ${idx + 1}`,\r\n  transpose: stepSequencerData?.transpose || 0,\r\n});\r\nconst createDefaultStepSequencersData = tuneSequencers => {\r\n  const sequencers = Array.isArray(tuneSequencers) ? tuneSequencers : [];\r\n  return sequencers.map(createDefaultStepSequencerData);\r\n};\r\n\r\nconst useStepRecording = setPadData => {\r\n  const ref = React.useRef({ noteTimeouts: {} });\r\n  const { subscribe } = React.useContext(MidiContext);\r\n  const [mode, setMode] = React.useState(sequencerModes.play);\r\n\r\n  const onToggleRecording = React.useCallback(isRecording =>\r\n    setMode(isRecording ? sequencerModes.record : sequencerModes.play)\r\n  );\r\n\r\n  // handle note addition through keyboard\r\n  const onAddNote = React.useCallback(\r\n    midiMessage => {\r\n      if (!isNoteOn(midiMessage)) return;\r\n\r\n      const note = midiMessage[1];\r\n      clearTimeout(ref.current.noteTimeouts[note]);\r\n      ref.current.noteTimeouts[note] = setTimeout(() => {\r\n        setPadData(({ notes, ...pd }) => ({\r\n          ...pd,\r\n          notes: notes.concat({ note, on: true, velocity: 60 }),\r\n        }));\r\n      }, 50);\r\n    },\r\n    [setPadData]\r\n  );\r\n\r\n  const isRecording = mode === sequencerModes.record;\r\n\r\n  // when recording mode on, subscribe to midi note events\r\n  React.useEffect(() => {\r\n    let unsubscribe = null;\r\n    if (isRecording) unsubscribe = subscribe(onAddNote, { ignoreMessages });\r\n\r\n    return () => unsubscribe && unsubscribe();\r\n  }, [isRecording]);\r\n\r\n  return {\r\n    isRecording: mode === sequencerModes.record,\r\n    mode,\r\n    onToggleRecording,\r\n    setMode,\r\n  };\r\n};\r\n\r\nexport {\r\n  createDefaultStepSequencersData,\r\n  createNote,\r\n  useNotesPlaying,\r\n  useParameters,\r\n  usePadEvents,\r\n  useStepRecording,\r\n};\r\n","import React from 'react';\r\n\r\nconst Button = ({ children, className, index, onClick, size, ...props }) => {\r\n  return (\r\n    <div\r\n      className={`keyboard-button ${size || ''} ${className}`}\r\n      onClick={onClick}\r\n      {...props}\r\n    >\r\n      <div className=\"button-overlay\"></div>\r\n      <div className=\"button-inner\">{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Button from './Button';\r\n\r\nconst LatchingButton = ({\r\n  activeColor,\r\n  children,\r\n  defaultActive,\r\n  onActiveChanged,\r\n  onClick,\r\n  ...props\r\n}) => {\r\n  const [active, setActive] = React.useState(!!defaultActive);\r\n\r\n  React.useEffect(() => {\r\n    if (onActiveChanged) onActiveChanged(active);\r\n  }, [active]);\r\n\r\n  const handleClick = React.useCallback(\r\n    e => {\r\n      setActive(currentActive => !currentActive);\r\n      if (onClick) onClick(e);\r\n    },\r\n    [setActive, onClick]\r\n  );\r\n\r\n  return (\r\n    <Button\r\n      className={`keyboard-latching-button ${\r\n        active && 'active'\r\n      } ${activeColor}`}\r\n      onClick={handleClick}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default LatchingButton;\r\n","import React from 'react';\r\n\r\nconst Pad = ({\r\n  active,\r\n  children,\r\n  className,\r\n  index,\r\n  on,\r\n  onClick,\r\n  onWheel,\r\n  overlayChildren,\r\n  ...props\r\n}) => {\r\n  const handleClick = React.useCallback(\r\n    e => {\r\n      if (onClick) onClick(index, on, e);\r\n    },\r\n    [index, on, onClick]\r\n  );\r\n\r\n  const handleWheel = React.useCallback(\r\n    e => {\r\n      if (onWheel) onWheel(index, e.deltaY < 0 ? 'up' : 'down', e);\r\n    },\r\n    [index, onWheel]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`keyboard-pad ${className} ${active && 'active'} ${\r\n        on && 'on'\r\n      }`}\r\n      onClick={handleClick}\r\n      onWheel={handleWheel}\r\n      {...props}\r\n    >\r\n      <div className=\"pad-overlay\">{overlayChildren}</div>\r\n      <div className=\"pad-inner\">{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pad;\r\n","import React from 'react';\r\nimport { debounce } from 'lodash';\r\n\r\nconst minAngle = -144;\r\nconst maxAngle = 144;\r\nconst tickAngleDiff = 12;\r\n\r\nconst angleScale = maxAngle - minAngle;\r\nconst numOfTicks = angleScale / tickAngleDiff;\r\nconst defaultStep = 1;\r\n\r\nconst convertToKnobAngle = (value, min, max) => {\r\n  const knobValue = ((value - min) * angleScale) / (max - min) + minAngle;\r\n  return Math.max(minAngle, Math.min(maxAngle, knobValue));\r\n};\r\n\r\nconst getTickProps = (tickIndex, angle, centerBased) => {\r\n  const tickAngle = minAngle + tickAngleDiff * tickIndex;\r\n  const active = !centerBased\r\n    ? angle > minAngle && tickAngle <= angle\r\n    : angle < 0\r\n    ? tickAngle <= 0 && tickAngle >= angle\r\n    : tickAngle >= 0 && tickAngle <= angle;\r\n\r\n  return {\r\n    className: `tick ${active && 'active'}`,\r\n    key: tickIndex,\r\n    style: {\r\n      transform: `rotate(${tickAngle}deg)`,\r\n    },\r\n  };\r\n};\r\n\r\nconst useWheelValueChanging = ({\r\n  max,\r\n  min,\r\n  onSetValue,\r\n  step = defaultStep,\r\n  value,\r\n}) => {\r\n  const ref = React.useRef({\r\n    factor: 1,\r\n    max,\r\n    min,\r\n    step,\r\n    value,\r\n  });\r\n  const elementRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    ref.current.step = step;\r\n    ref.current.value = value;\r\n    ref.current.min = min;\r\n    ref.current.max = max;\r\n  }, [value, step, min, max]);\r\n\r\n  const resetFactor = React.useMemo(\r\n    () =>\r\n      debounce(() => {\r\n        ref.current.factor = ref.current.step;\r\n      }, 25),\r\n    []\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const onWheel = e => {\r\n      e.stopPropagation();\r\n      e.stopImmediatePropagation();\r\n      e.preventDefault();\r\n\r\n      const { value, step, min, max } = ref.current;\r\n      const newValue =\r\n        value + step * ref.current.factor * (e.deltaY < 0 ? 1 : -1);\r\n      onSetValue(Math.min(max, Math.max(min, newValue)));\r\n      ref.current.factor += step;\r\n      resetFactor();\r\n    };\r\n\r\n    elementRef.current.addEventListener('wheel', onWheel, { passive: false });\r\n\r\n    return () => {\r\n      if (elementRef.current)\r\n        elementRef.current.removeEventListener('wheel', onWheel, {\r\n          passive: false,\r\n        });\r\n    };\r\n  }, []);\r\n\r\n  return { elementRef };\r\n};\r\n\r\nconst useClickValueChanging = ({ max, min, onSetValue, value }) => {\r\n  const ref = React.useRef({\r\n    y: null,\r\n    mouseMovelistener: null,\r\n    mouseUplistener: null,\r\n    mouseDown: false,\r\n    value: value,\r\n  });\r\n  const [dragging, setDragging] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    ref.current.value = value;\r\n  }, [value]);\r\n\r\n  const handleMouseUp = React.useCallback(\r\n    e => {\r\n      if (e.button === 0) {\r\n        setDragging(false);\r\n        window.removeEventListener('mousemove', ref.current.mouseMovelistener);\r\n        window.removeEventListener('mouseup', ref.current.mouseUplistener);\r\n        ref.current.listener = null;\r\n      }\r\n    },\r\n    [setDragging]\r\n  );\r\n\r\n  const handleMouseMove = React.useCallback(\r\n    e => {\r\n      const newValue = Math.min(\r\n        max,\r\n        Math.max(min, ref.current.value + ref.current.y - e.pageY)\r\n      );\r\n      ref.current.y = e.pageY;\r\n      onSetValue(newValue);\r\n    },\r\n    [onSetValue, min, max]\r\n  );\r\n\r\n  const onMouseDown = React.useCallback(e => {\r\n    if (e.button === 0) {\r\n      setDragging(true);\r\n      ref.current.y = e.pageY;\r\n      //ref.current.mouseMovelistener = debounce(handleMouseMove, 10);\r\n      ref.current.mouseMovelistener = handleMouseMove;\r\n      ref.current.mouseUplistener = handleMouseUp;\r\n\r\n      window.addEventListener('mousemove', ref.current.mouseMovelistener);\r\n      window.addEventListener('mouseup', ref.current.mouseUplistener);\r\n    }\r\n  }, []);\r\n\r\n  return { dragging, onMouseDown };\r\n};\r\n\r\nconst RotaryKnob = props => {\r\n  const {\r\n    centerBased,\r\n    className,\r\n    displayValue,\r\n    max,\r\n    min,\r\n    style,\r\n    title,\r\n    value,\r\n  } = props;\r\n\r\n  const angle = React.useMemo(\r\n    () => convertToKnobAngle(value, min, max, centerBased),\r\n    [value, min, max]\r\n  );\r\n\r\n  const { onWheel, elementRef } = useWheelValueChanging(props);\r\n\r\n  const { dragging, onMouseDown } = useClickValueChanging(props);\r\n\r\n  return (\r\n    <div\r\n      className={`rotary-knob ${displayValue && 'with-value'} ${\r\n        title && 'with-title'\r\n      } ${className}`}\r\n      style={style}\r\n    >\r\n      {dragging && <div className=\"window-overlay\"></div>}\r\n      {title && <div className=\"title\">{title}</div>}\r\n      <div\r\n        className=\"knob-overlay\"\r\n        onMouseDown={onMouseDown}\r\n        ref={elementRef}\r\n      ></div>\r\n      <div className=\"knob-inner\">\r\n        <div\r\n          className=\"marker\"\r\n          style={{ transform: `rotate(${angle}deg)` }}\r\n        ></div>\r\n        <div className=\"ticks\">\r\n          {Array.from(Array(numOfTicks + 1)).map((_, idx) => (\r\n            <div key={idx} {...getTickProps(idx, angle, centerBased)}></div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {displayValue && (\r\n        <div className=\"value-wrap\">\r\n          <div className=\"value-display\">{value}</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RotaryKnob;\r\n","import React from 'react';\r\nimport RotaryKnob from './RotaryKnob';\r\n\r\nconst ParameterKnob = ({ name, onSetParameter, ...props }) => {\r\n  const handleValueChange = React.useCallback(\r\n    value => onSetParameter(name, value),\r\n    [name, onSetParameter]\r\n  );\r\n\r\n  return (\r\n    <div className=\"parameter-knob\">\r\n      <RotaryKnob displayValue onSetValue={handleValueChange} {...props} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParameterKnob;\r\n","import React from 'react';\r\nimport { LatchingButton } from 'components/KeyboardComponents';\r\n\r\nconst StepSequencerSummary = ({ active, data, onSelect, onSetParameter }) => {\r\n  const { title = '' } = data || {};\r\n\r\n  const handleBlockBubble = React.useCallback(e => {\r\n    e.stopPropagation();\r\n  }, []);\r\n\r\n  const handleToggleSolo = React.useCallback(\r\n    value => onSetParameter('solo', value),\r\n    [onSetParameter]\r\n  );\r\n  const handleToggleMute = React.useCallback(\r\n    value => onSetParameter('mute', value),\r\n    [onSetParameter]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`step-sequencer-summary ${active && 'active'}`}\r\n      onClick={onSelect}\r\n    >\r\n      <div className=\"step-sequencer-title\">\r\n        <div\r\n          className=\"step-sequencer-color\"\r\n          style={{ backgroundColor: data?.color }}\r\n        ></div>\r\n        <span>{title}</span>\r\n      </div>\r\n      <div className=\"sequencer-summary-body\">\r\n        <div className=\"flex-spacer\"></div>\r\n        <div className=\"solo-mute\">\r\n          <LatchingButton\r\n            activeColor=\"orange\"\r\n            onActiveChanged={handleToggleSolo}\r\n            onClick={handleBlockBubble}\r\n            size=\"small\"\r\n          >\r\n            Solo\r\n          </LatchingButton>\r\n          <LatchingButton\r\n            activeColor=\"red\"\r\n            onActiveChanged={handleToggleMute}\r\n            onClick={handleBlockBubble}\r\n            size=\"small\"\r\n          >\r\n            Mute\r\n          </LatchingButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StepSequencerSummary;\r\n","import { useMemo } from 'react';\r\n\r\nconst headStyle = {\r\n  opacity: 0.9,\r\n  fill: '#000',\r\n  fillOpacity: 1,\r\n  fillRule: 'evenodd',\r\n  stroke: 'none',\r\n  strokeWidth: 0.2,\r\n  strokeMiterlimit: 4,\r\n  strokeDashoffset: 0,\r\n  strokeOpacity: 1,\r\n};\r\nconst stemStyle = {\r\n  fill: 'none',\r\n  fillOpacity: 0.75,\r\n  fillRule: 'evenodd',\r\n  stroke: '#000',\r\n  strokeWidth: 1.5,\r\n  strokeLinecap: 'butt',\r\n  strokeLinejoin: 'miter',\r\n  strokeMiterlimit: 4,\r\n  strokeDasharray: 'none',\r\n  strokeOpacity: 1,\r\n};\r\nconst flagStyle = {\r\n  fill: '#000',\r\n  fillOpacity: 1,\r\n  fillRule: 'evenodd',\r\n  stroke: 'none',\r\n  strokeWidth: '1px',\r\n  strokeLinecap: 'butt',\r\n  strokeLinejoin: 'miter',\r\n  strokeOpacity: 1,\r\n};\r\n\r\nconst useStyles = color =>\r\n  useMemo(\r\n    () => ({\r\n      flagStyle: { ...flagStyle, fill: color },\r\n      headStyle: { ...headStyle, fill: color },\r\n      stemStyle: { ...stemStyle, stroke: color },\r\n    }),\r\n    [color]\r\n  );\r\n\r\nexport { flagStyle, headStyle, stemStyle, useStyles };\r\n","/* from https://commons.wikimedia.org/wiki/Category:SVG_musical_notation */\r\nimport React from 'react';\r\nimport { useStyles } from './styles';\r\n\r\nconst Note1 = ({ color = '#000' }) => {\r\n  const { headStyle } = useStyles(color);\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.0\"\r\n      width=\"19.5\"\r\n      height=\"11.003\"\r\n      id=\"svg1437\"\r\n    >\r\n      <defs id=\"defs1440\" />\r\n      <path\r\n        d=\"M 9.125,0.0030002594 C 4.03428,0.18520026 0,2.5856003 0,5.5030003 C 0,8.5390003 4.368,11.003 9.75,11.003 C 15.132,11.003 19.5,8.5390003 19.5,5.5030003 C 19.5,2.4670003 15.132,0.0030002594 9.75,0.0030002594 C 9.53977,0.0030002594 9.33194,-0.0043997406 9.125,0.0030002594 z M 7.5,1.0655003 C 8.8579,0.92650026 10.56798,1.5561003 12,2.8467003 C 14.14502,4.7799003 14.87122,7.4906003 13.625,8.9092003 L 13.59375,8.9405003 C 12.32289,10.3506 9.53145,9.9153003 7.375,7.9717003 C 5.21855,6.0282003 4.51039,3.2881003 5.78125,1.8780003 C 6.20818,1.4043003 6.81306,1.1358003 7.5,1.0655003 z \"\r\n        style={headStyle}\r\n        id=\"path3937\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Note1;\r\n","/* from https://commons.wikimedia.org/wiki/Category:SVG_musical_notation */\r\nimport React from 'react';\r\nimport { useStyles } from './styles';\r\n\r\nconst Note2 = ({ color = '#000' }) => {\r\n  const { headStyle, stemStyle } = useStyles(color);\r\n\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.0\"\r\n      width=\"14.566\"\r\n      height=\"41.919998\"\r\n      id=\"svg1463\"\r\n    >\r\n      <defs id=\"defs1466\" />\r\n      <g transform=\"matrix(-1,0,0,-1,247.8306,258.8548)\" id=\"g10997\">\r\n        <path\r\n          d=\"M 237.68484,218.18353 C 234.289,220.0035 232.47956,223.29808 233.59262,225.77649 C 234.77988,228.42013 238.85963,229.16621 242.6992,227.44186 C 246.53876,225.7175 248.69136,222.17246 247.5041,219.52883 C 246.31683,216.88519 242.23709,216.13911 238.39752,217.86346 C 238.15755,217.97123 237.91124,218.0622 237.68484,218.18353 z M 238.79457,220.42569 C 239.0358,220.30136 239.28005,220.20766 239.53576,220.09282 C 242.80883,218.62288 245.96997,218.55375 246.59187,219.93851 C 247.21377,221.32327 245.06209,223.64013 241.78902,225.11008 C 238.51594,226.58002 235.3548,226.64915 234.73291,225.26439 C 234.15959,223.98781 235.94804,221.89278 238.79457,220.42569 z \"\r\n          style={headStyle}\r\n          id=\"path10999\"\r\n        />\r\n        <path\r\n          d=\"M 234.05234,224.51692 L 234.05234,258.10449\"\r\n          style={stemStyle}\r\n          id=\"path11001\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Note2;\r\n","/* from https://commons.wikimedia.org/wiki/Category:SVG_musical_notation */\r\nimport React from 'react';\r\nimport { stemStyle, useStyles } from './styles';\r\n\r\nconst Note4 = ({ color = '#000' }) => {\r\n  const { headStyle, stemStyle } = useStyles(color);\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.0\"\r\n      width=\"14.566\"\r\n      height=\"41.919998\"\r\n      id=\"svg1497\"\r\n    >\r\n      <defs id=\"defs1500\" />\r\n      <g transform=\"matrix(-1,0,0,-1,313.2829,340.3223)\" id=\"g11029\">\r\n        <path\r\n          d=\"M 303.13715,299.65106 C 299.74131,301.47103 297.93187,304.76561 299.04493,307.24402 C 300.23219,309.88766 304.31194,310.63374 308.15151,308.90939 C 311.99107,307.18503 314.14367,303.63999 312.95641,300.99636 C 311.76914,298.35272 307.6894,297.60664 303.84983,299.33099 C 303.60986,299.43876 303.36355,299.52973 303.13715,299.65106 z \"\r\n          style={headStyle}\r\n          id=\"path11031\"\r\n        />\r\n        <path\r\n          d=\"M 299.50465,305.98445 L 299.50465,339.57202\"\r\n          style={stemStyle}\r\n          id=\"path11033\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Note4;\r\n","/* from https://commons.wikimedia.org/wiki/Category:SVG_musical_notation */\r\nimport React from 'react';\r\nimport { useStyles } from './styles';\r\n\r\nconst Note8 = ({ color = '#000' }) => {\r\n  const { flagStyle, headStyle, stemStyle } = useStyles(color);\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.0\"\r\n      width=\"24.886\"\r\n      height=\"41.75\"\r\n      id=\"svg1533\"\r\n    >\r\n      <defs id=\"defs1536\" />\r\n      <g transform=\"translate(-427.1495,-34.28441)\" id=\"g12994\">\r\n        <path\r\n          d=\"M 431.56955,65.847427 C 428.17371,67.667397 426.36427,70.961977 427.47733,73.440387 C 428.66459,76.084027 432.74434,76.830107 436.58391,75.105757 C 440.42347,73.381397 442.57607,69.836357 441.38881,67.192727 C 440.20154,64.549087 436.1218,63.803007 432.28223,65.527357 C 432.04226,65.635127 431.79595,65.726097 431.56955,65.847427 z \"\r\n          style={headStyle}\r\n          id=\"path12112\"\r\n        />\r\n        <path\r\n          d=\"M 441.18705,68.62194 L 441.18705,35.03437\"\r\n          style={stemStyle}\r\n          id=\"path12114\"\r\n        />\r\n        <path\r\n          d=\"M 441.1824,35.99421 C 440.6199,42.30671 446.02495,44.56795 448.6824,47.49421 C 451.20836,50.27568 452.13107,53.48393 452.02788,56.48981 C 452.00033,57.29238 451.78245,60.76992 449.41343,64.25653 C 452.58135,55.50942 449.6319,51.99847 446.75047,49.20495 C 443.26053,45.82149 440.66435,42.63277 441.1824,35.99421 z \"\r\n          style={flagStyle}\r\n          id=\"path12116\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Note8;\r\n","/* from https://commons.wikimedia.org/wiki/Category:SVG_musical_notation */\r\nimport React from 'react';\r\nimport { useStyles } from './styles';\r\n\r\nconst Note16 = ({ color = '#000' }) => {\r\n  const { flagStyle, headStyle, stemStyle } = useStyles(color);\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.0\"\r\n      width=\"24.386\"\r\n      height=\"45\"\r\n      id=\"svg1572\"\r\n    >\r\n      <defs id=\"defs1575\" />\r\n      <g transform=\"translate(-393.8446,-234.1771)\" id=\"g16559\">\r\n        <path\r\n          d=\"M 398.2646,268.99008 C 394.86876,270.81005 393.05932,274.10463 394.17238,276.58304 C 395.35964,279.22668 399.43939,279.97276 403.27896,278.24841 C 407.11852,276.52405 409.27112,272.97901 408.08386,270.33538 C 406.89659,267.69174 402.81685,266.94566 398.97728,268.67001 C 398.73731,268.77778 398.491,268.86875 398.2646,268.99008 z \"\r\n          style={headStyle}\r\n          id=\"path16482\"\r\n        />\r\n        <path\r\n          d=\"M 407.8821,271.76459 L 407.8821,234.92702\"\r\n          style={stemStyle}\r\n          id=\"path16484\"\r\n        />\r\n        <path\r\n          d=\"M 407.37745,235.63686 C 406.81495,241.94936 412.22,244.2106 414.87745,247.13686 C 417.40341,249.91833 418.32612,253.12658 418.22293,256.13246 C 418.19538,256.93503 417.9775,260.41257 415.60848,263.89918 C 418.7764,255.15207 415.82695,251.64112 412.94552,248.8476 C 409.45558,245.46414 406.8594,242.27542 407.37745,235.63686 z \"\r\n          style={flagStyle}\r\n          id=\"path16486\"\r\n        />\r\n        <path\r\n          d=\"M 407.14399,241.67087 C 406.58149,247.98337 411.98654,250.24461 414.64399,253.17087 C 417.16995,255.95234 418.09266,259.16059 417.98947,262.16647 C 417.96192,262.96904 417.74404,266.44658 415.37502,269.93319 C 418.54294,261.18608 415.59349,257.67513 412.71206,254.88161 C 409.22212,251.49815 406.62594,248.30943 407.14399,241.67087 z \"\r\n          style={flagStyle}\r\n          id=\"path16488\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Note16;\r\n","/* from https://commons.wikimedia.org/wiki/Category:SVG_musical_notation */\r\nimport React from 'react';\r\nimport { useStyles } from './styles';\r\n\r\nconst Note32 = ({ color = '#000' }) => {\r\n  const { flagStyle, headStyle, stemStyle } = useStyles(color);\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.0\"\r\n      width=\"24.886\"\r\n      height=\"49.174999\"\r\n      id=\"svg1622\"\r\n    >\r\n      <defs id=\"defs1625\" />\r\n      <g transform=\"translate(-519.7849,-288.4558)\" id=\"g16506\">\r\n        <path\r\n          d=\"M 524.20493,327.44378 C 520.80909,329.26375 518.99965,332.55833 520.11271,335.03674 C 521.29997,337.68038 525.37972,338.42646 529.21929,336.70211 C 533.05885,334.97775 535.21145,331.43271 534.02419,328.78908 C 532.83692,326.14544 528.75718,325.39936 524.91761,327.12371 C 524.67764,327.23148 524.43133,327.32245 524.20493,327.44378 z \"\r\n          style={headStyle}\r\n          id=\"path16453\"\r\n        />\r\n        <path\r\n          d=\"M 533.82243,330.21829 L 533.82243,289.2061\"\r\n          style={stemStyle}\r\n          id=\"path16455\"\r\n        />\r\n        <path\r\n          d=\"M 533.81778,297.59056 C 533.25528,303.90306 538.66033,306.1643 541.31778,309.09056 C 543.84374,311.87203 544.76645,315.08028 544.66326,318.08616 C 544.63571,318.88873 544.41783,322.36627 542.04881,325.85288 C 545.21673,317.10577 542.26728,313.59482 539.38585,310.8013 C 535.89591,307.41784 533.29973,304.22912 533.81778,297.59056 z \"\r\n          style={flagStyle}\r\n          id=\"path16457\"\r\n        />\r\n        <path\r\n          d=\"M 533.08432,302.37457 C 532.52182,308.68707 537.92687,310.94831 540.58432,313.87457 C 543.11028,316.65604 544.03299,319.86429 543.9298,322.87017 C 543.90225,323.67274 543.68437,327.15028 541.31535,330.63689 C 544.48327,321.88978 541.53382,318.37883 538.65239,315.58531 C 535.16245,312.20185 532.56627,309.01313 533.08432,302.37457 z \"\r\n          style={flagStyle}\r\n          id=\"path16462\"\r\n        />\r\n        <path\r\n          d=\"M 533.59854,290.64238 C 533.03604,296.95488 538.44109,299.21612 541.09854,302.14238 C 543.6245,304.92385 544.54721,308.1321 544.44402,311.13798 C 544.41647,311.94055 544.19859,315.41809 541.82957,318.9047 C 544.99749,310.15759 542.04804,306.64664 539.16661,303.85312 C 535.67667,300.46966 533.08049,297.28094 533.59854,290.64238 z \"\r\n          style={flagStyle}\r\n          id=\"path16504\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Note32;\r\n","import React from 'react';\r\nimport { Button, ParameterKnob } from 'components/KeyboardComponents';\r\nimport { Card, Select } from 'antd';\r\nimport {\r\n  CaretRightOutlined,\r\n  PauseOutlined,\r\n  StepBackwardOutlined,\r\n} from '@ant-design/icons';\r\nimport { globalParameterData } from '../constants';\r\nimport StepSequencerSummary from './StepSequencerSummary';\r\nimport { useKeyboardControl } from './keyboardControl';\r\n\r\nimport { Note1, Note2, Note4, Note8, Note16, Note32 } from 'assets/notes';\r\n\r\nconst notesOptions = [\r\n  { label: <Note1 color=\"#EEE\" />, value: 1 },\r\n  { label: <Note2 color=\"#EEE\" />, value: 2 },\r\n  { label: <Note4 color=\"#EEE\" />, value: 4 },\r\n  { label: <Note8 color=\"#EEE\" />, value: 8 },\r\n  { label: <Note16 color=\"#EEE\" />, value: 16 },\r\n  { label: <Note32 color=\"#EEE\" />, value: 32 },\r\n];\r\n\r\nexport const globalParametersArr = Object.keys(globalParameterData).map(\r\n  key => ({\r\n    ...globalParameterData[key],\r\n    name: key,\r\n  })\r\n);\r\n\r\nconst MidiSequencerGlobalControl = props => {\r\n  const {\r\n    activeStepSequencerIdx,\r\n    onPlay,\r\n    onSeekToStart,\r\n    onSetActiveStepSequencerIdx,\r\n    onSetData,\r\n    onSetParameter,\r\n    onStop,\r\n    parameters,\r\n    stepSequencersData,\r\n  } = props;\r\n\r\n  const handleSetStepSequencerParameter = React.useCallback(\r\n    (idx, name, value) =>\r\n      onSetData(currentData =>\r\n        Array.isArray(currentData)\r\n          ? currentData.map((seqData, seqIdx) =>\r\n              seqIdx === idx ? { ...seqData, [name]: value } : seqData\r\n            )\r\n          : currentData\r\n      ),\r\n    [onSetData]\r\n  );\r\n\r\n  useKeyboardControl(props);\r\n\r\n  return (\r\n    <div className=\"global-controls\">\r\n      <Card bordered={false}>\r\n        <div className=\"control-row\">\r\n          <Button onClick={onSeekToStart}>\r\n            <StepBackwardOutlined />\r\n          </Button>\r\n          <Button onClick={onPlay}>\r\n            <CaretRightOutlined />\r\n          </Button>\r\n          <Button onClick={onStop}>\r\n            <PauseOutlined />\r\n          </Button>\r\n        </div>\r\n        <div className=\"control-row\">\r\n          <ParameterKnob\r\n            {...globalParameterData.bpm}\r\n            name=\"bpm\"\r\n            onSetParameter={onSetParameter}\r\n            value={parameters.bpm}\r\n          />\r\n          <div className=\"select-parameter\">\r\n            <div className=\"title\">NoteValue</div>\r\n            <Select\r\n              className=\"note-value-select\"\r\n              dropdownClassName=\"note-value-select-list\"\r\n              listHeight={280}\r\n              onSelect={value => onSetParameter('noteValue', value)}\r\n              options={notesOptions}\r\n              size=\"large\"\r\n              value={parameters.noteValue}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card>\r\n      <br />\r\n      <Card bordered={false}>\r\n        {stepSequencersData.map((seq, idx) => (\r\n          <StepSequencerSummary\r\n            active={activeStepSequencerIdx === idx}\r\n            data={seq}\r\n            onSelect={() => onSetActiveStepSequencerIdx(idx)}\r\n            onSetParameter={(name, value) =>\r\n              handleSetStepSequencerParameter(idx, name, value)\r\n            }\r\n            key={idx}\r\n          />\r\n        ))}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiSequencerGlobalControl;\r\n","import { useCallback, useContext, useEffect, useRef } from 'react';\r\nimport {\r\n  MidiMessages,\r\n  defaultIgnoreMessages as ignoreMessages,\r\n} from 'lib/enums';\r\nimport MidiContext from 'components/Midi/Context';\r\nimport { isFunc } from 'lib/utils';\r\n\r\nconst useKeyboardControl = ({ onPlay, onSeekToStart, onStop }) => {\r\n  const { ready, subscribe } = useContext(MidiContext);\r\n\r\n  const ref = useRef({\r\n    onPlay,\r\n    onSeekToStart,\r\n    onStop,\r\n    unsubscribe: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    ref.current.onPlay = onPlay;\r\n    ref.current.onSeekToStart = onSeekToStart;\r\n    ref.current.onStop = onStop;\r\n  }, [onPlay, onSeekToStart, onStop]);\r\n\r\n  const handleMidiMessage = useCallback(([message]) => {\r\n    if (\r\n      message === MidiMessages.StartPlayback &&\r\n      isFunc(ref.current.onSeekToStart) &&\r\n      isFunc(ref.current.onPlay)\r\n    ) {\r\n      ref.current.onSeekToStart();\r\n      ref.current.onPlay();\r\n    } else if (\r\n      message === MidiMessages.ResumePlayback &&\r\n      isFunc(ref.current.onPlay)\r\n    )\r\n      ref.current.onPlay();\r\n    else if (\r\n      message === MidiMessages.PausePlayback &&\r\n      isFunc(ref.current.onStop)\r\n    )\r\n      ref.current.onStop();\r\n  }, []);\r\n\r\n  // subscribe when midi context ready\r\n  useEffect(() => {\r\n    if (ready)\r\n      ref.current.unsubscribe = subscribe(handleMidiMessage, {\r\n        ignoreMessages,\r\n      });\r\n\r\n    return () =>\r\n      ready &&\r\n      typeof ref.current.unsubscribe === 'function' &&\r\n      ref.current.unsubscribe();\r\n  }, [ready]);\r\n\r\n  // cleanup effect\r\n  useEffect(() => {}, []);\r\n};\r\n\r\nexport { useKeyboardControl };\r\n","import React from 'react';\r\nimport { Dropdown, Menu, Switch } from 'antd';\r\n\r\nconst MidiChannelsSelector = ({\r\n  channels,\r\n  numOfChannels,\r\n  onSetChannels,\r\n  title = 'Channels',\r\n}) => {\r\n  const [menuVisible, setMenuVisible] = React.useState(false);\r\n\r\n  const preventHide = React.useCallback(\r\n    () => setMenuVisible(true),\r\n    [setMenuVisible]\r\n  );\r\n\r\n  const handleSetChannels = React.useCallback(\r\n    (channelNum, checked) =>\r\n      onSetChannels(\r\n        checked\r\n          ? Array.from(new Set([...channels, channelNum])).sort((a, b) =>\r\n              a > b ? 1 : a < b ? -1 : 0\r\n            )\r\n          : channels.filter(ch => ch !== channelNum)\r\n      ),\r\n\r\n    [numOfChannels, onSetChannels, channels]\r\n  );\r\n\r\n  const menu = React.useMemo(\r\n    () => (\r\n      <Menu className=\"midi-channels-menu\" onClick={preventHide}>\r\n        {Array.from(Array(numOfChannels)).map((_, idx) => (\r\n          <Menu.Item key={idx + 1}>\r\n            <div className=\"menu-item\">\r\n              <div>{idx + 1} </div>\r\n              <Switch\r\n                checked={channels.includes(idx + 1)}\r\n                onChange={value => handleSetChannels(idx + 1, value)}\r\n                size=\"small\"\r\n              />\r\n            </div>\r\n          </Menu.Item>\r\n        ))}\r\n      </Menu>\r\n    ),\r\n    [channels, numOfChannels]\r\n  );\r\n\r\n  const content = React.useMemo(() => {\r\n    if (!channels) return '';\r\n    const { range, other } = channels.reduce(\r\n      (obj, channel) => {\r\n        if (\r\n          obj.range.length > 0 &&\r\n          channel - obj.range[obj.range.length - 1] > 1\r\n        )\r\n          obj.other.push(channel);\r\n        else obj.range.push(channel);\r\n        return obj;\r\n      },\r\n      { range: [], other: [] }\r\n    );\r\n\r\n    return range.length > 1\r\n      ? `${range[0]}-${range[range.length - 1]}${other.length > 0 ? '..' : ''}`\r\n      : [...range, ...other].filter((_, idx) => idx < 3).join(',') +\r\n          (other.length > 2 ? '..' : '');\r\n  }, [channels]);\r\n\r\n  return (\r\n    <div className=\"numeric-parameter midi-channels\">\r\n      <Dropdown\r\n        onVisibleChange={setMenuVisible}\r\n        overlay={menu}\r\n        placement=\"bottomRight\"\r\n        visible={menuVisible}\r\n      >\r\n        <div>\r\n          <div className=\"title\">{title}</div>\r\n          <div className=\"content\">{content}</div>\r\n        </div>\r\n      </Dropdown>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiChannelsSelector;\r\n","import React from 'react';\r\nimport { InputNumber } from 'antd';\r\nimport { maxSequencerNotes } from '../constants';\r\nimport { createNote } from '../utils';\r\n\r\nconst SequenceLengthModifier = ({ notes, onChange }) => {\r\n  const handleChange = React.useCallback(\r\n    valueOrEvent => {\r\n      const value =\r\n        typeof valueOrEvent === 'number'\r\n          ? valueOrEvent\r\n          : Math.max(\r\n              1,\r\n              Math.min(maxSequencerNotes, parseInt(valueOrEvent.target?.value))\r\n            );\r\n\r\n      onChange(\r\n        value > notes.length\r\n          ? [\r\n              ...notes,\r\n              ...Array.from(Array(value - notes.length)).map(() =>\r\n                createNote()\r\n              ),\r\n            ]\r\n          : notes.slice(0, value)\r\n      );\r\n    },\r\n    [notes, onChange]\r\n  );\r\n\r\n  return (\r\n    <div className=\"sequence-length-modifier numeric-parameter\">\r\n      <div className=\"title\"># Pads</div>\r\n      <InputNumber\r\n        bordered={false}\r\n        max={maxSequencerNotes}\r\n        min={1}\r\n        onBlur={handleChange}\r\n        onPressEnter={handleChange}\r\n        onStep={handleChange}\r\n        defaultValue={notes?.length || 1}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SequenceLengthModifier;\r\n","import React from 'react';\r\nimport { Card } from 'antd';\r\nimport {\r\n  LatchingButton,\r\n  Pad,\r\n  ParameterKnob,\r\n} from 'components/KeyboardComponents';\r\nimport MidiChannelsSelector from './MidiChannelsSelector';\r\nimport { sequencerParameterData } from '../constants';\r\nimport { usePadEvents, useParameters, useStepRecording } from '../utils';\r\nimport { noteToString } from 'lib/midi';\r\nimport { numOfChannels } from 'lib/constants';\r\nimport SequenceLengthModifier from './SequenceLengthModifier';\r\n\r\nconst parametersArr = Object.keys(sequencerParameterData).map(key => ({\r\n  ...sequencerParameterData[key],\r\n  name: key,\r\n}));\r\n\r\nconst StepSequencer = ({ activeNoteIdx, data, onSetData }) => {\r\n  const { noteDuration, transpose } = data;\r\n\r\n  const sequencerActiveNoteIdx = React.useMemo(\r\n    () =>\r\n      data && Array.isArray(data.notes)\r\n        ? activeNoteIdx % data.notes.length\r\n        : activeNoteIdx,\r\n    [activeNoteIdx, data]\r\n  );\r\n\r\n  const parameterValues = React.useMemo(\r\n    () => ({ noteDuration, transpose }),\r\n    [noteDuration, transpose]\r\n  );\r\n\r\n  const { parameters, onSetParameter } = useParameters(\r\n    parametersArr,\r\n    parameterValues\r\n  );\r\n\r\n  React.useEffect(\r\n    () => onSetData(d => ({ ...d, ...parameters })),\r\n    [parameters]\r\n  );\r\n\r\n  const handleSequenceLengthChanged = React.useCallback(\r\n    notes =>\r\n      onSetData(currentData => ({\r\n        ...currentData,\r\n        notes,\r\n      })),\r\n    [onSetData]\r\n  );\r\n\r\n  const handleChannelsChange = React.useCallback(\r\n    channels =>\r\n      onSetData(currentData => ({\r\n        ...currentData,\r\n        channels,\r\n      })),\r\n    [onSetData]\r\n  );\r\n\r\n  const { onDelete, ...padEvents } = usePadEvents(onSetData);\r\n\r\n  const { isRecording, onToggleRecording } = useStepRecording(onSetData);\r\n\r\n  return (\r\n    <div className=\"step-sequencer\">\r\n      <div className=\"controls\">\r\n        <Card bordered={false}>\r\n          <div className=\"step-sequencer-title-wrap\">\r\n            <div className=\"step-sequencer-title\">\r\n              <div\r\n                className=\"step-sequencer-color\"\r\n                style={{ backgroundColor: data?.color }}\r\n              ></div>\r\n              <span>{data?.title}</span>\r\n            </div>\r\n            <div className=\"rec-button-wrap\">\r\n              <LatchingButton\r\n                activeColor=\"white\"\r\n                onActiveChanged={onToggleRecording}\r\n              >\r\n                <div className=\"flex-center\">\r\n                  Rec <div className=\"rec-icon\"></div>\r\n                </div>\r\n              </LatchingButton>{' '}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-spacer\"></div>\r\n          <div className=\"parameter\">\r\n            <SequenceLengthModifier\r\n              notes={data?.notes}\r\n              onChange={handleSequenceLengthChanged}\r\n            />\r\n          </div>\r\n          <div className=\"parameter\">\r\n            <MidiChannelsSelector\r\n              channels={data?.channels}\r\n              numOfChannels={numOfChannels}\r\n              onSetChannels={handleChannelsChange}\r\n              title=\"Channels\"\r\n            />\r\n          </div>\r\n          {parametersArr.map(p => (\r\n            <div className=\"parameter\" key={p.name}>\r\n              <ParameterKnob\r\n                {...p}\r\n                onSetParameter={onSetParameter}\r\n                value={parameters[p.name]}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Card>\r\n      </div>\r\n      <div className=\"pads-container\">\r\n        {Array.isArray(data?.notes) &&\r\n          data.notes.map(({ note, on }, idx) => (\r\n            <>\r\n              <Pad\r\n                active={!isRecording && sequencerActiveNoteIdx === idx}\r\n                index={idx}\r\n                key={note}\r\n                on={!isRecording && on}\r\n                overlayChildren={\r\n                  isRecording && (\r\n                    <div\r\n                      className=\"pad-deletion\"\r\n                      onClick={e => onDelete(e, idx)}\r\n                    >\r\n                      x\r\n                    </div>\r\n                  )\r\n                }\r\n                {...padEvents}\r\n              >\r\n                {noteToString(note)}\r\n              </Pad>\r\n              {(idx + 1) % 8 === 0 && <div className=\"flex-breaker\" />}\r\n            </>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StepSequencer;\r\n","import React from 'react';\r\nimport { defaultPattern } from './constants';\r\nimport {\r\n  createDefaultStepSequencersData,\r\n  useNotesPlaying,\r\n  useParameters,\r\n} from './utils';\r\nimport GlobalControl, { globalParametersArr } from './GlobalControl';\r\nimport StepSequencer from './StepSequencer';\r\n\r\nconst MidiSequencer = () => {\r\n  const [stepSequencersData, setStepSequencersData] = React.useState(\r\n    createDefaultStepSequencersData(defaultPattern.stepSequencers)\r\n  );\r\n\r\n  const [activeSequencerIdx, setActiveSequencerIdx] = React.useState(0);\r\n  const onSetStepSequencerData = React.useCallback(\r\n    data => {\r\n      const dataGetter = typeof data === 'function' ? data : () => data;\r\n      setStepSequencersData(sequencers =>\r\n        sequencers.map((currentData, idx) =>\r\n          idx === activeSequencerIdx ? dataGetter(currentData) : currentData\r\n        )\r\n      );\r\n    },\r\n    [setStepSequencersData, activeSequencerIdx]\r\n  );\r\n\r\n  const { parameters, onSetParameter } = useParameters(globalParametersArr);\r\n\r\n  const { activeNoteIdx, ...globalControlEvents } = useNotesPlaying(\r\n    parameters,\r\n    stepSequencersData\r\n  );\r\n\r\n  return (\r\n    <div className=\"sequencer\">\r\n      <GlobalControl\r\n        {...globalControlEvents}\r\n        activeStepSequencerIdx={activeSequencerIdx}\r\n        parameters={parameters}\r\n        onSetParameter={onSetParameter}\r\n        onSetActiveStepSequencerIdx={setActiveSequencerIdx}\r\n        onSetData={setStepSequencersData}\r\n        stepSequencersData={stepSequencersData}\r\n      />\r\n      <div className=\"step-sequencer\">\r\n        <StepSequencer\r\n          activeNoteIdx={activeNoteIdx}\r\n          data={stepSequencersData[activeSequencerIdx]}\r\n          onSetData={onSetStepSequencerData}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiSequencer;\r\n"],"names":["noteToString","number","octave","Math","floor","notes","note","noteToMidi","str","match","parseInt","n","toUpperCase","isNoteOn","midiMessage","noteOnStart","numOfChannels","isNoteOff","noteOffStart","isFunc","arg","leastCommonMultipleInner","a","b","gcd","leastCommonMultiple","numbers","slice","reduce","current","num","lawless","bpm","stepSequencers","channels","noteDuration","noteValue","theGrid","newMaps","velocity","metropolis","title","aintNobody","darkKnight","foundPattern01","foilz","defaultNote","sequencerModes","createParameter","min","max","defaultValue","centerBased","defaultPattern","pattern","map","idx","stepSequencer","transpose","split","item","velocityStr","pause","on","isNaN","formatPattern","tunes","sequencerParameterData","globalParameterData","stepSequencerColors","getIntervalMillis","createNote","useParameters","parametersArr","parameterValues","React","obj","parameterData","name","parameters","setParameters","onSetParameter","value","curr","createDefaultStepSequencerData","stepSequencerData","color","length","mute","Array","from","solo","children","className","onClick","index","size","props","activeColor","defaultActive","onActiveChanged","active","setActive","handleClick","e","currentActive","onWheel","overlayChildren","handleWheel","deltaY","minAngle","displayValue","style","angle","knobValue","maxAngle","convertToKnobAngle","onSetValue","step","ref","factor","elementRef","resetFactor","debounce","stopPropagation","stopImmediatePropagation","preventDefault","newValue","addEventListener","passive","removeEventListener","useWheelValueChanging","y","mouseMovelistener","mouseUplistener","mouseDown","dragging","setDragging","handleMouseUp","button","window","listener","handleMouseMove","pageY","onMouseDown","useClickValueChanging","transform","numOfTicks","_","tickIndex","tickAngle","key","getTickProps","handleValueChange","data","onSelect","handleBlockBubble","handleToggleSolo","handleToggleMute","backgroundColor","headStyle","opacity","fill","fillOpacity","fillRule","stroke","strokeWidth","strokeMiterlimit","strokeDashoffset","strokeOpacity","stemStyle","strokeLinecap","strokeLinejoin","strokeDasharray","flagStyle","useStyles","useMemo","xmlns","version","width","height","id","d","notesOptions","label","globalParametersArr","Object","keys","activeStepSequencerIdx","onPlay","onSeekToStart","onSetActiveStepSequencerIdx","onSetData","onStop","stepSequencersData","handleSetStepSequencerParameter","currentData","isArray","seqData","seqIdx","useContext","MidiContext","ready","subscribe","useRef","unsubscribe","useEffect","handleMidiMessage","useCallback","message","MidiMessages","ignoreMessages","useKeyboardControl","bordered","StepBackwardOutlined","CaretRightOutlined","PauseOutlined","dropdownClassName","listHeight","options","seq","onSetChannels","menuVisible","setMenuVisible","preventHide","handleSetChannels","channelNum","checked","Set","sort","filter","ch","menu","includes","onChange","content","channel","range","other","push","join","onVisibleChange","overlay","placement","visible","handleChange","valueOrEvent","target","onBlur","onPressEnter","onStep","activeNoteIdx","sequencerActiveNoteIdx","handleSequenceLengthChanged","handleChannelsChange","setPadData","padIndex","console","log","pd","direction","onDelete","usePadEvents","padEvents","noteTimeouts","mode","setMode","onToggleRecording","isRecording","onAddNote","clearTimeout","setTimeout","concat","useStepRecording","p","tuneSequencers","setStepSequencersData","activeSequencerIdx","setActiveSequencerIdx","onSetStepSequencerData","dataGetter","sequencers","autostart","midiContext","selectedOutput","setActiveNoteIdx","intervalId","intervalMillis","stepIdx","sequencersData","tempoChangeRequested","totalSteps","forEach","lengths","atLeastOneSolo","add","playNote","clearInterval","setInterval","actualNote","messages","messagesOffGroups","send","duration","messagesOff","messageOff","useNotesPlaying","globalControlEvents","GlobalControl"],"sourceRoot":""}