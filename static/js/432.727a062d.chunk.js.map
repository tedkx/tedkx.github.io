{"version":3,"file":"static/js/432.727a062d.chunk.js","mappings":"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","sources":["lib/utils.js","routes/MidiSequencer/constants.js","routes/MidiSequencer/utils.js","components/KeyboardComponents/Button.js","components/KeyboardComponents/Pad.js","components/KeyboardComponents/RotaryKnob.js","components/KeyboardComponents/ParameterKnob.js","../node_modules/@ant-design/icons-svg/es/asn/StepBackwardOutlined.js","../node_modules/@ant-design/icons/es/icons/StepBackwardOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/CaretRightOutlined.js","../node_modules/@ant-design/icons/es/icons/CaretRightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/PauseOutlined.js","../node_modules/@ant-design/icons/es/icons/PauseOutlined.js","routes/MidiSequencer/GlobalControl/index.js","../node_modules/rc-switch/es/index.js","../node_modules/antd/es/switch/index.js","../node_modules/antd/es/dropdown/dropdown-button.js","../node_modules/antd/es/dropdown/dropdown.js","../node_modules/antd/es/dropdown/index.js","routes/MidiSequencer/MidiChannelsSelector.js","routes/MidiSequencer/StepSequencer.js","routes/MidiSequencer/index.js"],"sourcesContent":["import { noteOnStart, noteOffStart, numOfChannels, notes } from './constants';\r\n\r\nconst noteToString = number => {\r\n  const octave = Math.floor(number / notes.length);\r\n  const note = number % notes.length;\r\n  return `${notes[note]}${octave}`;\r\n};\r\n\r\nconst noteToMidi = str => {\r\n  const [_, note, octave] = (str || '').match(/(.{1,2})(\\d{1})/) || [];\r\n  return !note || !octave\r\n    ? null\r\n    : parseInt(octave) * notes.length +\r\n        notes.findIndex(n => n === note.toUpperCase());\r\n};\r\n\r\n// check for noteOn number\r\nconst isNoteOn = midiMessage =>\r\n  midiMessage[0] >= noteOnStart &&\r\n  midiMessage[0] <= noteOnStart + numOfChannels &&\r\n  midiMessage[2] > 0;\r\n\r\n// either noteOff number or noteOn and velocity is 0\r\nconst isNoteOff = midiMessage =>\r\n  (midiMessage[0] >= noteOffStart &&\r\n    midiMessage[0] <= noteOffStart + numOfChannels) ||\r\n  (midiMessage[0] >= noteOnStart &&\r\n    midiMessage[0] <= noteOnStart + numOfChannels &&\r\n    midiMessage[2] === 0);\r\n\r\nexport { isNoteOn, isNoteOff, noteToMidi, noteToString };\r\n","import { noteToMidi } from 'lib/utils';\r\n\r\nconst defaultVelocity = 64;\r\nconst defaultNote = 'C5';\r\nconst defaultPatternLength = 16;\r\n\r\nconst createParameter = (min, max, defaultValue, title, centerBased) => ({\r\n  centerBased: centerBased === true,\r\n  defaultValue,\r\n  max,\r\n  min,\r\n  title,\r\n});\r\n\r\nconst tunez = {\r\n  //lazerhawk's lawless\r\n  lawless: {\r\n    bpm: 90,\r\n    noteDuration: 30,\r\n    notes:\r\n      'C4 G4 C5 D#5 D5 C5 D5 D#5 G5 D#5 D5 C5 G4 F4 D#4 D4 C6 C6 C6 C5 C5 C5 C6 C6 C6 G5 D#5 D5 C5 G4 D#4 D4',\r\n    noteValue: 16,\r\n  },\r\n\r\n  // tigran hamasyan's the grid intro\r\n  theGrid: {\r\n    bpm: 138,\r\n    noteDuration: 100,\r\n    notes:\r\n      'G3 D4 G4 C5 D5 D#4 G4 A#4 D#5 F5 B3 G4 G#4 D5 D#5 F5 G5 G3 D4 G4 C5 D5 F4 G4 A#4 D#5 F5 C4 G4 G#4 D5 D#5',\r\n    noteValue: 16,\r\n  },\r\n\r\n  // tigran hamasyan's new maps\r\n  newMaps: {\r\n    bpm: 120,\r\n    noteDuration: 600,\r\n    notes:\r\n      'C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G#5:90 C5 G#4 C#5 D#5 A#4 C5 G#5:90 G#5:0 C5 A#4 C5 G#5 C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G5:90 C5 G#4 C#5 D#5 A#4 C#5 A#5:90 A#5:0 C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G#5:90 C5 G#4 C#5 D#5 A#4 C5 G#5:90 G#5:0 C5 A#4 C5 G#5 C5 A#4 C5 G#5:90 C#5 G#4 D#5 C5 A#4 G5:90 A#4 G#4 C#5 D#5 A#4 C#5 C6:90 C6:0',\r\n    noteValue: 16,\r\n    velocity: 54,\r\n  },\r\n};\r\n\r\nconst formatPattern = pattern => ({\r\n  ...pattern,\r\n  notes: pattern.notes.split(' ').map(item => {\r\n    const [note, velocityStr] = item.split(':');\r\n    const velocity = parseInt(velocityStr);\r\n    return {\r\n      note: noteToMidi(note),\r\n      on: velocity !== 0,\r\n      velocity: isNaN(velocity)\r\n        ? pattern.velocity || defaultVelocity\r\n        : velocity,\r\n    };\r\n  }),\r\n});\r\n\r\nconst defaultPattern = formatPattern(tunez.newMaps);\r\n\r\nconst sequencerParameterData = {\r\n  noteDuration: createParameter(\r\n    1,\r\n    1000,\r\n    defaultPattern.noteDuration,\r\n    'Note Duration'\r\n  ),\r\n  transpose: createParameter(-24, 24, 0, 'Transpose', true),\r\n};\r\n\r\nconst globalParameterData = {\r\n  bpm: createParameter(40, 280, defaultPattern.bpm, 'Tempo'),\r\n  noteValue: createParameter(1, 32, defaultPattern.noteValue, 'NoteValue'),\r\n};\r\n\r\nexport {\r\n  defaultNote,\r\n  defaultPattern,\r\n  defaultPatternLength,\r\n  defaultVelocity,\r\n  globalParameterData,\r\n  sequencerParameterData,\r\n};\r\n","import React from 'react';\r\nimport MidiContext from 'components/Midi/Context';\r\nimport { MidiMessages } from 'lib/enums';\r\n\r\nconst getIntervalMillis = (bpm, noteValue) => ((60000 / bpm) * 4) / noteValue;\r\n\r\nconst stepSequencerDataToSteps = stepSequencersData => {\r\n  if (!Array.isArray(stepSequencersData)) return [];\r\n\r\n  let stepsLength = stepSequencersData[0].notes.length;\r\n  for (let i = 0; i < stepSequencersData.length; i++)\r\n    if (stepSequencersData[i].length > stepsLength)\r\n      stepsLength = stepSequencersData[i].length;\r\n\r\n  return Array.from(Array(stepsLength)).map((_, idx) =>\r\n    stepSequencersData.map(({ channels, notes, noteDuration, transpose }) => ({\r\n      channels,\r\n      duration: noteDuration,\r\n      note: notes[idx].note + transpose,\r\n      on: notes[idx].on,\r\n      velocity: notes[idx].velocity,\r\n    }))\r\n  );\r\n};\r\n\r\nconst usePadEvents = setPadData => {\r\n  const onClick = React.useCallback(\r\n    padIndex =>\r\n      setPadData(({ notes, ...pd }) => ({\r\n        ...pd,\r\n        notes: notes.map((item, idx) =>\r\n          idx === padIndex ? { ...item, on: !item.on } : item\r\n        ),\r\n      })),\r\n    [setPadData]\r\n  );\r\n\r\n  const onWheel = React.useCallback(\r\n    (padIndex, direction) =>\r\n      setPadData(({ notes, ...pd }) => ({\r\n        ...pd,\r\n        notes: notes.map((item, idx) =>\r\n          idx === padIndex\r\n            ? {\r\n                ...item,\r\n                note: direction === 'up' ? item.note + 1 : item.note - 1,\r\n              }\r\n            : item\r\n        ),\r\n      })),\r\n    [setPadData]\r\n  );\r\n\r\n  return {\r\n    onClick,\r\n    onWheel,\r\n  };\r\n};\r\n\r\nconst useNotesPlaying = (\r\n  { bpm, noteValue, ...parameters },\r\n  stepSequencersData,\r\n  autostart\r\n) => {\r\n  const midiContext = React.useContext(MidiContext);\r\n  const { selectedOutput } = midiContext;\r\n\r\n  const [activeNoteIdx, setActiveNoteIdx] = React.useState(null);\r\n\r\n  // keep almmost every param in ref so that they can be pick by interval callback playNote\r\n  const ref = React.useRef({\r\n    ...parameters,\r\n    intervalId: null,\r\n    intervalMillis: getIntervalMillis(bpm, noteValue),\r\n    noteIdx: 0,\r\n    steps: stepSequencerDataToSteps(stepSequencersData),\r\n    tempoChangeRequested: null,\r\n  });\r\n\r\n  // if interval active, store new bpm to tempoChangeRequested\r\n  // it will be reset by the next playNote tick\r\n  React.useEffect(() => {\r\n    if (ref.current.intervalId !== null)\r\n      ref.current.tempoChangeRequested = getIntervalMillis(bpm, noteValue);\r\n    else ref.current.intervalMillis = getIntervalMillis(bpm, noteValue);\r\n  }, [bpm, noteValue]);\r\n\r\n  // update ref with the latest parameter values as they change\r\n  React.useEffect(() => {\r\n    Object.keys(parameters).forEach(key => {\r\n      ref.current[key] = parameters[key];\r\n    });\r\n  }, [parameters]);\r\n\r\n  // same for notes\r\n  React.useEffect(() => {\r\n    ref.current.steps = stepSequencerDataToSteps(stepSequencersData);\r\n  }, [stepSequencersData]);\r\n\r\n  // the interval callback where all the interesting stuff take place\r\n  const playNote = React.useCallback(() => {\r\n    const { steps, noteIdx, tempoChangeRequested } = ref.current;\r\n\r\n    // pending temp change. set intervalMillis, reset tempoChangeRequested and restart interval\r\n    if (tempoChangeRequested) {\r\n      clearInterval(ref.current.intervalId);\r\n      ref.current.intervalMillis = tempoChangeRequested;\r\n      ref.current.tempoChangeRequested = null;\r\n      ref.current.intervalId = setInterval(playNote, tempoChangeRequested);\r\n    }\r\n\r\n    const stepData = steps[noteIdx];\r\n    setActiveNoteIdx(noteIdx);\r\n\r\n    ref.current.noteIdx++;\r\n    if (ref.current.noteIdx >= steps.length) ref.current.noteIdx = 0;\r\n\r\n    // pad is not on, no sound required\r\n    const { messages, messagesOffGroups } = stepData.reduce(\r\n      (obj, { channels, duration, note, on, velocity }) => {\r\n        if (on && velocity > 0)\r\n          channels.forEach(channel => {\r\n            obj.messages.push([\r\n              MidiMessages[`Channel${channel}NoteOn`],\r\n              note,\r\n              velocity,\r\n            ]);\r\n            if (!obj.messagesOffGroups[duration])\r\n              obj.messagesOffGroups[duration] = [];\r\n            obj.messagesOffGroups[duration].push([\r\n              MidiMessages[`Channel${channel}NoteOn`],\r\n              note,\r\n              0,\r\n            ]);\r\n          });\r\n\r\n        return obj;\r\n      },\r\n      { messages: [], messagesOffGroups: {} }\r\n    );\r\n\r\n    if (!messages.length) return;\r\n\r\n    messages.forEach(message => selectedOutput.send(message));\r\n    Object.keys(messagesOffGroups).forEach(duration => {\r\n      const messagesOff = messagesOffGroups[duration];\r\n      setTimeout(\r\n        () =>\r\n          messagesOff.forEach(messageOff => selectedOutput.send(messageOff)),\r\n        duration\r\n      );\r\n    });\r\n  }, [selectedOutput]);\r\n\r\n  // auto begin playing\r\n  React.useEffect(() => {\r\n    if (autostart && midiContext?.ready && midiContext.selectedOutput)\r\n      ref.current.intervalId = setInterval(playNote, intervalMillis);\r\n\r\n    return () => {\r\n      clearInterval(ref.current.intervalId);\r\n      ref.current.intervalId = null;\r\n    };\r\n  }, [autostart]);\r\n\r\n  // start/stop/seek to start button callbacks\r\n  const onSeekToStart = React.useCallback(() => {\r\n    setActiveNoteIdx(0);\r\n    ref.current.noteIdx = 0;\r\n  }, [setActiveNoteIdx]);\r\n\r\n  const onPlay = React.useCallback(() => {\r\n    if (ref.current.intervalId === null)\r\n      ref.current.intervalId = setInterval(\r\n        playNote,\r\n        ref.current.intervalMillis\r\n      );\r\n  }, [playNote]);\r\n\r\n  const onStop = React.useCallback(() => {\r\n    clearInterval(ref.current.intervalId);\r\n    ref.current.intervalId = null;\r\n  }, []);\r\n\r\n  return {\r\n    activeNoteIdx,\r\n    onPlay,\r\n    onSeekToStart,\r\n    onStop,\r\n  };\r\n};\r\n\r\nconst useParameters = (parametersArr, parameterValues = {}) => {\r\n  const [parameters, setParameters] = React.useState(\r\n    parametersArr.reduce((obj, parameterData) => {\r\n      obj[parameterData.name] =\r\n        parameterValues[parameterData.name] || parameterData.defaultValue;\r\n      return obj;\r\n    }, {})\r\n  );\r\n\r\n  const onSetParameter = React.useCallback(\r\n    (name, value) =>\r\n      setParameters(curr => ({\r\n        ...curr,\r\n        [name]: value,\r\n      })),\r\n    []\r\n  );\r\n\r\n  return {\r\n    onSetParameter,\r\n    parameters,\r\n  };\r\n};\r\n\r\nexport { useNotesPlaying, useParameters, usePadEvents };\r\n","import React from 'react';\r\n\r\nconst Button = ({ children, className, index, onClick, ...props }) => {\r\n  return (\r\n    <div\r\n      className={`keyboard-button ${className}`}\r\n      onClick={onClick}\r\n      {...props}\r\n    >\r\n      <div className=\"button-overlay\"></div>\r\n      <div className=\"button-inner\">{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nconst Pad = ({\r\n  active,\r\n  children,\r\n  className,\r\n  index,\r\n  on,\r\n  onClick,\r\n  onWheel,\r\n  ...props\r\n}) => {\r\n  const handleClick = React.useCallback(\r\n    e => {\r\n      if (onClick) onClick(index, on, e);\r\n    },\r\n    [index, on, onClick]\r\n  );\r\n\r\n  const handleWheel = React.useCallback(\r\n    e => {\r\n      if (onWheel) onWheel(index, e.deltaY < 0 ? 'up' : 'down', e);\r\n    },\r\n    [index, onWheel]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`keyboard-pad ${className} ${active && 'active'} ${\r\n        on && 'on'\r\n      }`}\r\n      onClick={handleClick}\r\n      onWheel={handleWheel}\r\n      {...props}\r\n    >\r\n      <div className=\"pad-overlay\"></div>\r\n      <div className=\"pad-inner\">{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pad;\r\n","import React from 'react';\r\nimport { debounce } from 'lodash';\r\n\r\nconst minAngle = -144;\r\nconst maxAngle = 144;\r\nconst tickAngleDiff = 12;\r\n\r\nconst angleScale = maxAngle - minAngle;\r\nconst numOfTicks = angleScale / tickAngleDiff;\r\nconst defaultStep = 1;\r\n\r\nconst convertToKnobAngle = (value, min, max) => {\r\n  const knobValue = ((value - min) * angleScale) / (max - min) + minAngle;\r\n  return Math.max(minAngle, Math.min(maxAngle, knobValue));\r\n};\r\n\r\nconst getTickProps = (tickIndex, angle, centerBased) => {\r\n  const tickAngle = minAngle + tickAngleDiff * tickIndex;\r\n  const active = !centerBased\r\n    ? angle > minAngle && tickAngle <= angle\r\n    : angle < 0\r\n    ? tickAngle <= 0 && tickAngle >= angle\r\n    : tickAngle >= 0 && tickAngle <= angle;\r\n\r\n  return {\r\n    className: `tick ${active && 'active'}`,\r\n    key: tickIndex,\r\n    style: {\r\n      transform: `rotate(${tickAngle}deg)`,\r\n    },\r\n  };\r\n};\r\n\r\nconst useWheelValueChanging = ({\r\n  max,\r\n  min,\r\n  onSetValue,\r\n  step = defaultStep,\r\n  value,\r\n}) => {\r\n  const ref = React.useRef({\r\n    factor: 1,\r\n    max,\r\n    min,\r\n    step,\r\n    value,\r\n  });\r\n  const elementRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    ref.current.step = step;\r\n    ref.current.value = value;\r\n    ref.current.min = min;\r\n    ref.current.max = max;\r\n  }, [value, step, min, max]);\r\n\r\n  const resetFactor = React.useMemo(\r\n    () =>\r\n      debounce(() => {\r\n        ref.current.factor = ref.current.step;\r\n      }, 25),\r\n    []\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const onWheel = e => {\r\n      e.stopPropagation();\r\n      e.stopImmediatePropagation();\r\n      e.preventDefault();\r\n\r\n      const { value, step, min, max } = ref.current;\r\n      const newValue =\r\n        value + step * ref.current.factor * (e.deltaY < 0 ? 1 : -1);\r\n      onSetValue(Math.min(max, Math.max(min, newValue)));\r\n      ref.current.factor += step;\r\n      resetFactor();\r\n    };\r\n\r\n    elementRef.current.addEventListener('wheel', onWheel, { passive: false });\r\n\r\n    return () => {\r\n      elementRef.current.removeEventListener('wheel', onWheel, {\r\n        passive: false,\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  return { elementRef };\r\n};\r\n\r\nconst useClickValueChanging = ({ max, min, onSetValue, value }) => {\r\n  const ref = React.useRef({\r\n    y: null,\r\n    mouseMovelistener: null,\r\n    mouseUplistener: null,\r\n    mouseDown: false,\r\n    value: value,\r\n  });\r\n  const [dragging, setDragging] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    ref.current.value = value;\r\n  }, [value]);\r\n\r\n  const handleMouseUp = React.useCallback(\r\n    e => {\r\n      if (e.button === 0) {\r\n        setDragging(false);\r\n        window.removeEventListener('mousemove', ref.current.mouseMovelistener);\r\n        window.removeEventListener('mouseup', ref.current.mouseUplistener);\r\n        ref.current.listener = null;\r\n      }\r\n    },\r\n    [setDragging]\r\n  );\r\n\r\n  const handleMouseMove = React.useCallback(\r\n    e => {\r\n      const newValue = Math.min(\r\n        max,\r\n        Math.max(min, ref.current.value + ref.current.y - e.pageY)\r\n      );\r\n      ref.current.y = e.pageY;\r\n      onSetValue(newValue);\r\n    },\r\n    [onSetValue, min, max]\r\n  );\r\n\r\n  const onMouseDown = React.useCallback(e => {\r\n    if (e.button === 0) {\r\n      setDragging(true);\r\n      ref.current.y = e.pageY;\r\n      //ref.current.mouseMovelistener = debounce(handleMouseMove, 10);\r\n      ref.current.mouseMovelistener = handleMouseMove;\r\n      ref.current.mouseUplistener = handleMouseUp;\r\n\r\n      window.addEventListener('mousemove', ref.current.mouseMovelistener);\r\n      window.addEventListener('mouseup', ref.current.mouseUplistener);\r\n    }\r\n  }, []);\r\n\r\n  return { dragging, onMouseDown };\r\n};\r\n\r\nconst RotaryKnob = props => {\r\n  const {\r\n    centerBased,\r\n    className,\r\n    displayValue,\r\n    max,\r\n    min,\r\n    style,\r\n    title,\r\n    value,\r\n  } = props;\r\n\r\n  const angle = React.useMemo(\r\n    () => convertToKnobAngle(value, min, max, centerBased),\r\n    [value, min, max]\r\n  );\r\n\r\n  const { onWheel, elementRef } = useWheelValueChanging(props);\r\n\r\n  const { dragging, onMouseDown } = useClickValueChanging(props);\r\n\r\n  return (\r\n    <div\r\n      className={`rotary-knob ${displayValue && 'with-value'} ${\r\n        title && 'with-title'\r\n      } ${className}`}\r\n      style={style}\r\n    >\r\n      {dragging && <div className=\"window-overlay\"></div>}\r\n      {title && <div className=\"title\">{title}</div>}\r\n      <div\r\n        className=\"knob-overlay\"\r\n        onMouseDown={onMouseDown}\r\n        ref={elementRef}\r\n      ></div>\r\n      <div className=\"knob-inner\">\r\n        <div\r\n          className=\"marker\"\r\n          style={{ transform: `rotate(${angle}deg)` }}\r\n        ></div>\r\n        <div className=\"ticks\">\r\n          {Array.from(Array(numOfTicks + 1)).map((_, idx) => (\r\n            <div key={idx} {...getTickProps(idx, angle, centerBased)}></div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {displayValue && (\r\n        <div className=\"value-wrap\">\r\n          <div className=\"value-display\">{value}</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RotaryKnob;\r\n","import React from 'react';\r\nimport RotaryKnob from './RotaryKnob';\r\n\r\nconst ParameterKnob = ({ name, onSetParameter, ...props }) => {\r\n  const handleValueChange = React.useCallback(\r\n    value => onSetParameter(name, value),\r\n    [name, onSetParameter]\r\n  );\r\n\r\n  return (\r\n    <div className=\"parameter-knob\">\r\n      <RotaryKnob displayValue onSetValue={handleValueChange} {...props} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParameterKnob;\r\n","// This icon file is generated automatically.\nvar StepBackwardOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M347.6 528.95l383.2 301.02c14.25 11.2 35.2 1.1 35.2-16.95V210.97c0-18.05-20.95-28.14-35.2-16.94L347.6 495.05a21.53 21.53 0 000 33.9M330 864h-64a8 8 0 01-8-8V168a8 8 0 018-8h64a8 8 0 018 8v688a8 8 0 01-8 8\" } }] }, \"name\": \"step-backward\", \"theme\": \"outlined\" };\nexport default StepBackwardOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport StepBackwardOutlinedSvg from \"@ant-design/icons-svg/es/asn/StepBackwardOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar StepBackwardOutlined = function StepBackwardOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: StepBackwardOutlinedSvg\n  }));\n};\n\nStepBackwardOutlined.displayName = 'StepBackwardOutlined';\nexport default /*#__PURE__*/React.forwardRef(StepBackwardOutlined);","// This icon file is generated automatically.\nvar CaretRightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z\" } }] }, \"name\": \"caret-right\", \"theme\": \"outlined\" };\nexport default CaretRightOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CaretRightOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretRightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CaretRightOutlined = function CaretRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CaretRightOutlinedSvg\n  }));\n};\n\nCaretRightOutlined.displayName = 'CaretRightOutlined';\nexport default /*#__PURE__*/React.forwardRef(CaretRightOutlined);","// This icon file is generated automatically.\nvar PauseOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"pause\", \"theme\": \"outlined\" };\nexport default PauseOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PauseOutlinedSvg from \"@ant-design/icons-svg/es/asn/PauseOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PauseOutlined = function PauseOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PauseOutlinedSvg\n  }));\n};\n\nPauseOutlined.displayName = 'PauseOutlined';\nexport default /*#__PURE__*/React.forwardRef(PauseOutlined);","import React from 'react';\r\nimport { Button, ParameterKnob } from 'components/KeyboardComponents';\r\nimport { Card } from 'antd';\r\nimport {\r\n  CaretRightOutlined,\r\n  PauseOutlined,\r\n  StepBackwardOutlined,\r\n} from '@ant-design/icons';\r\nimport { globalParameterData } from '../constants';\r\n\r\nexport const globalParametersArr = Object.keys(globalParameterData).map(\r\n  key => ({\r\n    ...globalParameterData[key],\r\n    name: key,\r\n  })\r\n);\r\n\r\nconst MidiSequencerGlobalControl = ({\r\n  onPlay,\r\n  onSeekToStart,\r\n  onSetParameter,\r\n  onStop,\r\n  parameters,\r\n}) => {\r\n  return (\r\n    <div className=\"global-controls\">\r\n      <Card bordered={false}>\r\n        <div className=\"control-row\">\r\n          <Button onClick={onSeekToStart}>\r\n            <StepBackwardOutlined />\r\n          </Button>\r\n          <Button onClick={onPlay}>\r\n            <CaretRightOutlined />\r\n          </Button>\r\n          <Button onClick={onStop}>\r\n            <PauseOutlined />\r\n          </Button>\r\n        </div>\r\n        <div className=\"control-row\">\r\n          {globalParametersArr.map(p => (\r\n            <ParameterKnob\r\n              {...p}\r\n              key={p.name}\r\n              onSetParameter={onSetParameter}\r\n              value={parameters[p.name]}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiSequencerGlobalControl;\r\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nvar Switch = React.forwardRef(function (_ref, ref) {\n  var _classNames;\n\n  var _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-switch' : _ref$prefixCls,\n      className = _ref.className,\n      checked = _ref.checked,\n      defaultChecked = _ref.defaultChecked,\n      disabled = _ref.disabled,\n      loadingIcon = _ref.loadingIcon,\n      checkedChildren = _ref.checkedChildren,\n      unCheckedChildren = _ref.unCheckedChildren,\n      onClick = _ref.onClick,\n      onChange = _ref.onChange,\n      onKeyDown = _ref.onKeyDown,\n      restProps = _objectWithoutProperties(_ref, [\"prefixCls\", \"className\", \"checked\", \"defaultChecked\", \"disabled\", \"loadingIcon\", \"checkedChildren\", \"unCheckedChildren\", \"onClick\", \"onChange\", \"onKeyDown\"]);\n\n  var _useMergedState = useMergedState(false, {\n    value: checked,\n    defaultValue: defaultChecked\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      innerChecked = _useMergedState2[0],\n      setInnerChecked = _useMergedState2[1];\n\n  function triggerChange(newChecked, event) {\n    var mergedChecked = innerChecked;\n\n    if (!disabled) {\n      mergedChecked = newChecked;\n      setInnerChecked(mergedChecked);\n      onChange === null || onChange === void 0 ? void 0 : onChange(mergedChecked, event);\n    }\n\n    return mergedChecked;\n  }\n\n  function onInternalKeyDown(e) {\n    if (e.which === KeyCode.LEFT) {\n      triggerChange(false, e);\n    } else if (e.which === KeyCode.RIGHT) {\n      triggerChange(true, e);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  }\n\n  function onInternalClick(e) {\n    var ret = triggerChange(!innerChecked, e); // [Legacy] trigger onClick with value\n\n    onClick === null || onClick === void 0 ? void 0 : onClick(ret, e);\n  }\n\n  var switchClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), innerChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n  return React.createElement(\"button\", Object.assign({}, restProps, {\n    type: \"button\",\n    role: \"switch\",\n    \"aria-checked\": innerChecked,\n    disabled: disabled,\n    className: switchClassName,\n    ref: ref,\n    onKeyDown: onInternalKeyDown,\n    onClick: onInternalClick\n  }), loadingIcon, React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }, innerChecked ? checkedChildren : unCheckedChildren));\n});\nSwitch.displayName = 'Switch';\nexport default Switch;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSwitch from 'rc-switch';\nimport classNames from 'classnames';\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nvar Switch = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      loading = _a.loading,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      disabled = _a.disabled,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"loading\", \"className\", \"disabled\"]);\n\n  devWarning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?');\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('switch', customizePrefixCls);\n  var loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-handle\")\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: \"\".concat(prefixCls, \"-loading-icon\")\n  }));\n  var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-small\"), (customizeSize || size) === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(Wave, {\n    insertExtraNode: true\n  }, /*#__PURE__*/React.createElement(RcSwitch, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: disabled || loading,\n    ref: ref,\n    loadingIcon: loadingIcon\n  })));\n});\nSwitch.__ANT_SWITCH = true;\nSwitch.displayName = 'Switch';\nexport default Switch;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport EllipsisOutlined from \"@ant-design/icons/es/icons/EllipsisOutlined\";\nimport Button from '../button';\nimport { ConfigContext } from '../config-provider';\nimport Dropdown from './dropdown';\nvar ButtonGroup = Button.Group;\n\nvar DropdownButton = function DropdownButton(props) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getContextPopupContainer = _React$useContext.getPopupContainer,\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var customizePrefixCls = props.prefixCls,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'default' : _props$type,\n      disabled = props.disabled,\n      loading = props.loading,\n      onClick = props.onClick,\n      htmlType = props.htmlType,\n      children = props.children,\n      className = props.className,\n      overlay = props.overlay,\n      trigger = props.trigger,\n      align = props.align,\n      visible = props.visible,\n      onVisibleChange = props.onVisibleChange,\n      placement = props.placement,\n      getPopupContainer = props.getPopupContainer,\n      href = props.href,\n      _props$icon = props.icon,\n      icon = _props$icon === void 0 ? /*#__PURE__*/React.createElement(EllipsisOutlined, null) : _props$icon,\n      title = props.title,\n      _props$buttonsRender = props.buttonsRender,\n      buttonsRender = _props$buttonsRender === void 0 ? function (buttons) {\n    return buttons;\n  } : _props$buttonsRender,\n      mouseEnterDelay = props.mouseEnterDelay,\n      mouseLeaveDelay = props.mouseLeaveDelay,\n      overlayClassName = props.overlayClassName,\n      overlayStyle = props.overlayStyle,\n      destroyPopupOnHide = props.destroyPopupOnHide,\n      restProps = __rest(props, [\"prefixCls\", \"type\", \"disabled\", \"loading\", \"onClick\", \"htmlType\", \"children\", \"className\", \"overlay\", \"trigger\", \"align\", \"visible\", \"onVisibleChange\", \"placement\", \"getPopupContainer\", \"href\", \"icon\", \"title\", \"buttonsRender\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"overlayClassName\", \"overlayStyle\", \"destroyPopupOnHide\"]);\n\n  var prefixCls = getPrefixCls('dropdown-button', customizePrefixCls);\n  var dropdownProps = {\n    align: align,\n    overlay: overlay,\n    disabled: disabled,\n    trigger: disabled ? [] : trigger,\n    onVisibleChange: onVisibleChange,\n    getPopupContainer: getPopupContainer || getContextPopupContainer,\n    mouseEnterDelay: mouseEnterDelay,\n    mouseLeaveDelay: mouseLeaveDelay,\n    overlayClassName: overlayClassName,\n    overlayStyle: overlayStyle,\n    destroyPopupOnHide: destroyPopupOnHide\n  };\n\n  if ('visible' in props) {\n    dropdownProps.visible = visible;\n  }\n\n  if ('placement' in props) {\n    dropdownProps.placement = placement;\n  } else {\n    dropdownProps.placement = direction === 'rtl' ? 'bottomLeft' : 'bottomRight';\n  }\n\n  var leftButton = /*#__PURE__*/React.createElement(Button, {\n    type: type,\n    disabled: disabled,\n    loading: loading,\n    onClick: onClick,\n    htmlType: htmlType,\n    href: href,\n    title: title\n  }, children);\n  var rightButton = /*#__PURE__*/React.createElement(Button, {\n    type: type,\n    icon: icon\n  });\n\n  var _buttonsRender = buttonsRender([leftButton, rightButton]),\n      _buttonsRender2 = _slicedToArray(_buttonsRender, 2),\n      leftButtonToRender = _buttonsRender2[0],\n      rightButtonToRender = _buttonsRender2[1];\n\n  return /*#__PURE__*/React.createElement(ButtonGroup, _extends({}, restProps, {\n    className: classNames(prefixCls, className)\n  }), leftButtonToRender, /*#__PURE__*/React.createElement(Dropdown, dropdownProps, rightButtonToRender));\n};\n\nDropdownButton.__ANT_BUTTON = true;\nexport default DropdownButton;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport RcDropdown from 'rc-dropdown';\nimport classNames from 'classnames';\nimport RightOutlined from \"@ant-design/icons/es/icons/RightOutlined\";\nimport DropdownButton from './dropdown-button';\nimport { ConfigContext } from '../config-provider';\nimport devWarning from '../_util/devWarning';\nimport { tuple } from '../_util/type';\nimport { cloneElement } from '../_util/reactNode';\nimport getPlacements from '../_util/placements';\nvar Placements = tuple('topLeft', 'topCenter', 'topRight', 'bottomLeft', 'bottomCenter', 'bottomRight', 'top', 'bottom');\n\nvar Dropdown = function Dropdown(props) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getContextPopupContainer = _React$useContext.getPopupContainer,\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var getTransitionName = function getTransitionName() {\n    var rootPrefixCls = getPrefixCls();\n    var _props$placement = props.placement,\n        placement = _props$placement === void 0 ? '' : _props$placement,\n        transitionName = props.transitionName;\n\n    if (transitionName !== undefined) {\n      return transitionName;\n    }\n\n    if (placement.indexOf('top') >= 0) {\n      return \"\".concat(rootPrefixCls, \"-slide-down\");\n    }\n\n    return \"\".concat(rootPrefixCls, \"-slide-up\");\n  };\n\n  var renderOverlay = function renderOverlay(prefixCls) {\n    // rc-dropdown already can process the function of overlay, but we have check logic here.\n    // So we need render the element to check and pass back to rc-dropdown.\n    var overlay = props.overlay;\n    var overlayNode;\n\n    if (typeof overlay === 'function') {\n      overlayNode = overlay();\n    } else {\n      overlayNode = overlay;\n    }\n\n    overlayNode = React.Children.only(typeof overlayNode === 'string' ? /*#__PURE__*/React.createElement(\"span\", null, overlayNode) : overlayNode);\n    var overlayProps = overlayNode.props; // Warning if use other mode\n\n    devWarning(!overlayProps.mode || overlayProps.mode === 'vertical', 'Dropdown', \"mode=\\\"\".concat(overlayProps.mode, \"\\\" is not supported for Dropdown's Menu.\")); // menu cannot be selectable in dropdown defaultly\n\n    var _overlayProps$selecta = overlayProps.selectable,\n        selectable = _overlayProps$selecta === void 0 ? false : _overlayProps$selecta,\n        expandIcon = overlayProps.expandIcon;\n    var overlayNodeExpandIcon = typeof expandIcon !== 'undefined' && /*#__PURE__*/React.isValidElement(expandIcon) ? expandIcon : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-menu-submenu-arrow\")\n    }, /*#__PURE__*/React.createElement(RightOutlined, {\n      className: \"\".concat(prefixCls, \"-menu-submenu-arrow-icon\")\n    }));\n    var fixedModeOverlay = typeof overlayNode.type === 'string' ? overlayNode : cloneElement(overlayNode, {\n      mode: 'vertical',\n      selectable: selectable,\n      expandIcon: overlayNodeExpandIcon\n    });\n    return fixedModeOverlay;\n  };\n\n  var getPlacement = function getPlacement() {\n    var placement = props.placement;\n\n    if (!placement) {\n      return direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n    }\n\n    if (placement.includes('Center')) {\n      var newPlacement = placement.slice(0, placement.indexOf('Center'));\n      devWarning(!placement.includes('Center'), 'Dropdown', \"You are using '\".concat(placement, \"' placement in Dropdown, which is deprecated. Try to use '\").concat(newPlacement, \"' instead.\"));\n      return newPlacement;\n    }\n\n    return placement;\n  };\n\n  var arrow = props.arrow,\n      customizePrefixCls = props.prefixCls,\n      children = props.children,\n      trigger = props.trigger,\n      disabled = props.disabled,\n      getPopupContainer = props.getPopupContainer,\n      overlayClassName = props.overlayClassName;\n  var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\n  var child = React.Children.only(children);\n  var dropdownTrigger = cloneElement(child, {\n    className: classNames(\"\".concat(prefixCls, \"-trigger\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), child.props.className),\n    disabled: disabled\n  });\n  var overlayClassNameCustomized = classNames(overlayClassName, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'));\n  var triggerActions = disabled ? [] : trigger;\n  var alignPoint;\n\n  if (triggerActions && triggerActions.indexOf('contextMenu') !== -1) {\n    alignPoint = true;\n  }\n\n  var builtinPlacements = getPlacements({\n    arrowPointAtCenter: _typeof(arrow) === 'object' && arrow.pointAtCenter,\n    autoAdjustOverflow: true\n  });\n  return /*#__PURE__*/React.createElement(RcDropdown, _extends({\n    alignPoint: alignPoint\n  }, props, {\n    builtinPlacements: builtinPlacements,\n    arrow: !!arrow,\n    overlayClassName: overlayClassNameCustomized,\n    prefixCls: prefixCls,\n    getPopupContainer: getPopupContainer || getContextPopupContainer,\n    transitionName: getTransitionName(),\n    trigger: triggerActions,\n    overlay: function overlay() {\n      return renderOverlay(prefixCls);\n    },\n    placement: getPlacement()\n  }), dropdownTrigger);\n};\n\nDropdown.Button = DropdownButton;\nDropdown.defaultProps = {\n  mouseEnterDelay: 0.15,\n  mouseLeaveDelay: 0.1\n};\nexport default Dropdown;","import Dropdown from './dropdown';\nexport default Dropdown;","import React from 'react';\r\nimport { Dropdown, Menu, Switch } from 'antd';\r\n\r\nconst MidiChannelsSelector = ({\r\n  channels,\r\n  numOfChannels,\r\n  onSetData,\r\n  title = 'Channels',\r\n}) => {\r\n  const [menuVisible, setMenuVisible] = React.useState(false);\r\n\r\n  const preventHide = React.useCallback(\r\n    () => setMenuVisible(true),\r\n    [setMenuVisible]\r\n  );\r\n\r\n  const onSetChannels = React.useCallback(\r\n    (channelNum, checked) =>\r\n      onSetData(({ channels: currentChannels, ...currentData }) => ({\r\n        ...currentData,\r\n        channels: checked\r\n          ? Array.from(new Set([...currentChannels, channelNum])).sort((a, b) =>\r\n              a > b ? 1 : a < b ? -1 : 0\r\n            )\r\n          : currentChannels.filter(ch => ch !== channelNum),\r\n      })),\r\n    [numOfChannels, onSetData]\r\n  );\r\n\r\n  const menu = React.useMemo(\r\n    () => (\r\n      <Menu className=\"midi-channels-menu\" onClick={preventHide}>\r\n        {Array.from(Array(numOfChannels)).map((_, idx) => (\r\n          <Menu.Item key={idx + 1}>\r\n            <div className=\"menu-item\">\r\n              <div>{idx + 1} </div>\r\n              <Switch\r\n                checked={channels.includes(idx + 1)}\r\n                onChange={value => onSetChannels(idx + 1, value)}\r\n                size=\"small\"\r\n              />\r\n            </div>\r\n          </Menu.Item>\r\n        ))}\r\n      </Menu>\r\n    ),\r\n    [channels, numOfChannels]\r\n  );\r\n\r\n  const content = React.useMemo(() => {\r\n    if (!channels) return '';\r\n    const { range, other } = channels.reduce(\r\n      (obj, channel) => {\r\n        if (\r\n          obj.range.length > 0 &&\r\n          channel - obj.range[obj.range.length - 1] > 1\r\n        )\r\n          obj.other.push(channel);\r\n        else obj.range.push(channel);\r\n        return obj;\r\n      },\r\n      { range: [], other: [] }\r\n    );\r\n\r\n    return range.length > 1\r\n      ? `${range[0]}-${range[range.length - 1]}${other.length > 0 ? '..' : ''}`\r\n      : [...range, ...other].filter((_, idx) => idx < 3).join(',') +\r\n          (other.length > 2 ? '..' : '');\r\n  }, [channels]);\r\n\r\n  return (\r\n    <div className=\"midi-channels\">\r\n      <Dropdown\r\n        onVisibleChange={setMenuVisible}\r\n        overlay={menu}\r\n        placement=\"bottomRight\"\r\n        visible={menuVisible}\r\n      >\r\n        <div>\r\n          <div className=\"title\">{title}</div>\r\n          <div className=\"content\">{content}</div>\r\n        </div>\r\n      </Dropdown>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiChannelsSelector;\r\n","import React from 'react';\r\nimport { Card } from 'antd';\r\nimport { Pad, ParameterKnob } from 'components/KeyboardComponents';\r\nimport MidiChannelsSelector from './MidiChannelsSelector';\r\nimport { sequencerParameterData } from './constants';\r\nimport { usePadEvents, useParameters } from './utils';\r\nimport { noteToString } from 'lib/utils';\r\nimport { numOfChannels } from 'lib/constants';\r\n\r\nconst parametersArr = Object.keys(sequencerParameterData).map(key => ({\r\n  ...sequencerParameterData[key],\r\n  name: key,\r\n}));\r\n\r\nconst StepSequencer = ({ activeNoteIdx, data, onSetData }) => {\r\n  const { noteDuration, transpose } = data;\r\n\r\n  const parameterValues = React.useMemo(\r\n    () => ({ noteDuration, transpose }),\r\n    [noteDuration, transpose]\r\n  );\r\n\r\n  const { parameters, onSetParameter } = useParameters(\r\n    parametersArr,\r\n    parameterValues\r\n  );\r\n\r\n  React.useEffect(\r\n    () => onSetData(d => ({ ...d, ...parameters })),\r\n    [parameters]\r\n  );\r\n\r\n  const padEvents = usePadEvents(onSetData);\r\n\r\n  return (\r\n    <div className=\"step-sequencer\">\r\n      <div className=\"controls\">\r\n        <Card bordered={false}>\r\n          <MidiChannelsSelector\r\n            channels={data?.channels}\r\n            numOfChannels={numOfChannels}\r\n            onSetData={onSetData}\r\n            title=\"Channels\"\r\n          />\r\n          {parametersArr.map(p => (\r\n            <ParameterKnob\r\n              {...p}\r\n              key={p.name}\r\n              onSetParameter={onSetParameter}\r\n              value={parameters[p.name]}\r\n            />\r\n          ))}\r\n        </Card>\r\n      </div>\r\n      <div className=\"pads-container\">\r\n        {Array.isArray(data?.notes) &&\r\n          data.notes.map(({ note, on }, idx) => (\r\n            <>\r\n              <Pad\r\n                active={activeNoteIdx === idx}\r\n                index={idx}\r\n                key={note}\r\n                on={on}\r\n                {...padEvents}\r\n              >\r\n                {noteToString(note)}\r\n              </Pad>\r\n              {(idx + 1) % 8 === 0 && <div className=\"flex-breaker\" />}\r\n            </>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StepSequencer;\r\n","import React from 'react';\r\nimport { defaultPattern } from './constants';\r\nimport { useNotesPlaying, useParameters } from './utils';\r\nimport GlobalControl, { globalParametersArr } from './GlobalControl';\r\nimport StepSequencer from './StepSequencer';\r\n\r\nconst channels = [1, 2, 3, 4];\r\n\r\nconst MidiSequencer = () => {\r\n  const [stepSequencersData, setStepSequencersData] = React.useState([\r\n    {\r\n      channels,\r\n      noteDuration: defaultPattern.noteDuration,\r\n      notes: defaultPattern.notes,\r\n      transpose: 0,\r\n    },\r\n  ]);\r\n\r\n  const [activeSequencerIdx, setActiveSequencerIdx] = React.useState(0);\r\n  const onSetStepSequencerData = React.useCallback(\r\n    data => {\r\n      const dataGetter = typeof data === 'function' ? data : () => data;\r\n      setStepSequencersData(sequencers =>\r\n        sequencers.map((currentData, idx) =>\r\n          idx === activeSequencerIdx ? dataGetter(currentData) : currentData\r\n        )\r\n      );\r\n    },\r\n    [setStepSequencersData, activeSequencerIdx]\r\n  );\r\n\r\n  const { parameters, onSetParameter } = useParameters(globalParametersArr);\r\n\r\n  const { activeNoteIdx, ...globalControlEvents } = useNotesPlaying(\r\n    parameters,\r\n    stepSequencersData\r\n  );\r\n\r\n  return (\r\n    <div className=\"sequencer\">\r\n      <GlobalControl\r\n        {...globalControlEvents}\r\n        parameters={parameters}\r\n        onSetParameter={onSetParameter}\r\n      />\r\n      <div className=\"step-sequencer\">\r\n        <StepSequencer\r\n          activeNoteIdx={activeNoteIdx}\r\n          data={stepSequencersData[activeSequencerIdx]}\r\n          onSetData={onSetStepSequencerData}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiSequencer;\r\n"],"names":["noteToString","number","octave","Math","floor","notes","note","noteToMidi","str","match","parseInt","n","toUpperCase","isNoteOn","midiMessage","noteOnStart","numOfChannels","isNoteOff","noteOffStart","pattern","createParameter","min","max","defaultValue","title","centerBased","defaultPattern","bpm","noteDuration","noteValue","velocity","split","map","item","velocityStr","on","isNaN","sequencerParameterData","transpose","globalParameterData","getIntervalMillis","stepSequencerDataToSteps","stepSequencersData","Array","isArray","stepsLength","length","i","from","_","idx","channels","duration","useParameters","parametersArr","parameterValues","React","reduce","obj","parameterData","name","parameters","setParameters","onSetParameter","value","curr","children","className","onClick","index","props","active","onWheel","handleClick","e","handleWheel","deltaY","minAngle","displayValue","style","angle","knobValue","maxAngle","convertToKnobAngle","onSetValue","step","ref","factor","elementRef","current","resetFactor","debounce","stopPropagation","stopImmediatePropagation","preventDefault","newValue","addEventListener","passive","removeEventListener","useWheelValueChanging","y","mouseMovelistener","mouseUplistener","mouseDown","dragging","setDragging","handleMouseUp","button","window","listener","handleMouseMove","pageY","onMouseDown","useClickValueChanging","transform","numOfTicks","tickIndex","tickAngle","key","getTickProps","handleValueChange","StepBackwardOutlined","AntdIcon","_objectSpread","icon","StepBackwardOutlinedSvg","displayName","CaretRightOutlined","CaretRightOutlinedSvg","PauseOutlined","PauseOutlinedSvg","globalParametersArr","Object","keys","onPlay","onSeekToStart","onStop","bordered","p","Switch","_ref","_classNames","_ref$prefixCls","prefixCls","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onChange","onKeyDown","restProps","_objectWithoutProperties","_useMergedState","useMergedState","_useMergedState2","_slicedToArray","innerChecked","setInnerChecked","triggerChange","newChecked","event","mergedChecked","switchClassName","classNames","_defineProperty","concat","assign","type","role","which","KeyCode","ret","__rest","s","t","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_a","customizePrefixCls","customizeSize","size","loading","_a$className","devWarning","_React$useContext","ConfigContext","getPrefixCls","direction","SizeContext","LoadingOutlined","classes","Wave","insertExtraNode","RcSwitch","_extends","__ANT_SWITCH","ButtonGroup","Button","DropdownButton","getContextPopupContainer","getPopupContainer","_props$type","htmlType","overlay","trigger","align","visible","onVisibleChange","placement","href","_props$icon","EllipsisOutlined","_props$buttonsRender","buttonsRender","buttons","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownProps","_buttonsRender","_buttonsRender2","leftButtonToRender","rightButtonToRender","Dropdown","__ANT_BUTTON","tuple","alignPoint","arrow","child","dropdownTrigger","cloneElement","overlayClassNameCustomized","triggerActions","builtinPlacements","getPlacements","arrowPointAtCenter","_typeof","pointAtCenter","autoAdjustOverflow","RcDropdown","transitionName","rootPrefixCls","_props$placement","undefined","getTransitionName","overlayNode","overlayProps","mode","_overlayProps$selecta","selectable","expandIcon","overlayNodeExpandIcon","RightOutlined","renderOverlay","includes","newPlacement","slice","getPlacement","defaultProps","onSetData","menuVisible","setMenuVisible","preventHide","onSetChannels","channelNum","currentChannels","currentData","Set","sort","a","b","filter","ch","menu","content","channel","range","other","push","join","activeNoteIdx","data","d","setPadData","padEvents","padIndex","pd","setStepSequencersData","activeSequencerIdx","onSetStepSequencerData","dataGetter","sequencers","autostart","midiContext","MidiContext","selectedOutput","setActiveNoteIdx","intervalId","intervalMillis","noteIdx","steps","tempoChangeRequested","forEach","playNote","clearInterval","setInterval","stepData","messages","MidiMessages","messagesOffGroups","message","send","messagesOff","setTimeout","messageOff","ready","useNotesPlaying","globalControlEvents","GlobalControl"],"sourceRoot":""}